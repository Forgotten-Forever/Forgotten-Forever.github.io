{"meta":{"title":"BLOG","subtitle":"LiuLiu's BLOG","description":"python 学习","author":"Liu","url":"http://yoursite.com","root":"/"},"pages":[{"title":"categories","date":"2020-07-27T13:53:15.000Z","updated":"2020-07-27T13:53:46.125Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2020-07-27T13:54:21.000Z","updated":"2020-07-27T13:54:33.452Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":""},{"title":"tags","date":"2020-07-27T13:53:26.000Z","updated":"2020-07-27T13:54:06.426Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Flask_note","slug":"Flask-note","date":"2020-08-06T12:34:12.000Z","updated":"2020-08-06T13:04:43.225Z","comments":true,"path":"2020/08/06/flask-note/","link":"","permalink":"http://yoursite.com/2020/08/06/flask-note/","excerpt":"","text":"Flask 框架学习通过 Pycharm 创建新的工程，创建 Falsk 项目生成的 Falsk 项目中带有一个 app.py 文件 1234567891011121314from flask import Flaskapp = Flask(__name__)@app.route('/') # 指定路由: '/' 根路由def hello_world(): return 'Hello World!'if __name__ == '__main__':# debug 默认为 False, debug=True 让开发变得友好，在修改App 文件后，刷新立即可以在本地服务上看到变化# windows 可能做不到# port 默认端口 5000 ,port=6333 更改端口# host 默认为本地 127.0.0.1, host='0.0.0.0'面向局域网都可以访问 app.run(debug=True, port=6333, host='0.0.0.0') 进行简单修改，对页面进行布局，渲染 基础：在 return 内增加 HTML 类型文件 1234567891011from flask import Flask app = Flask(__name__) @app.route('/') # 指定路由def hello_world(): # 更改 return 内为 HTML 文件 return '&lt;h1&gt;Hello&lt;/h1&gt;&lt;p&gt;Flask&lt;/p&gt;'if __name__ == '__main__': app.run(debug=True) 优化: 在工程下建立文件夹 “templates” (现在版本已经实现自建),”templates” 中建立 “index.html” 文件在 app.py 内引进 Flask_note 渲染 12345678910111213from flask import Flask, render_templateapp = Flask(__name__) @app.route('/') # 指定路由def hello_world(): # title=title 将 title 传入 index 作为标题 # &lt;title&gt;&#123;&#123; title &#125;&#125;&lt;/title&gt; # 写在 &lt;p&gt;&#123;&#123; title &#125;&#125;&lt;/p&gt; 内，也可以调用 填入 'Flask Web test' title = 'Flask Web test' return render_template('index.html', title=title) if __name__ == '__main__': app.run(debug=True) 更高级渲染 (条件判断、循环) 条件判断：如果 title 为空则默认 标题为 ‘Falsk App’ 12345&#123;% if title %&#125; &lt;title&gt;&#123;&#123; title &#125;&#125;&lt;&#x2F;title&gt;&#123;% else %&#125; &lt;title&gt;Falsk App&lt;&#x2F;title&gt;&#123;% endif %&#125; 123def hello_world():return render_template('index.html', ) + 循环 建立三个 &lt;p&gt;&lt;/p&gt; ![](https://cdn.jsdelivr.net/gh/Forgotten-Forever/BlogImages/images/Flask_p.png) 123&#123;% for p in data %&#125;&lt;p&gt;&#123;&#123; p &#125;&#125;&lt;&#x2F;p&gt;&#123;% endfor %&#125; 12345678910def hello_world(): title &#x3D; &#39;Flask Web test&#39; paragraphs &#x3D; [ &quot;Selection 1&quot;, &quot;Selection 2&quot;, &quot;Selection 3&quot; ] return render_template(&#39;index.html&#39;, title&#x3D;title, data&#x3D;paragraphs) 模板继承和引用 模板的继承 在 “templates” 下建立 “base.html” 作为模板 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &#123;% if title %&#125; &lt;title&gt;&#123;&#123; title &#125;&#125;&lt;/title&gt; &#123;% else %&#125; &lt;title&gt;Falsk App&lt;/title&gt; &#123;% endif %&#125;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;&lt;a href=\"/\"&gt;Flask App&lt;/a&gt; &lt;/h3&gt;&lt;hr&gt;&lt;/body&gt;&lt;/html&gt; 在 “index.html” 中继承 “base.html” 模板 1&#123;% extends 'base.html' %&#125; 在 “index.html” 继承模板后，写入属于自己的东西 在 “base.html” 文件相应位置写下 block 定义此自定义模块名称为 content 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &#123;% if title %&#125; &lt;title&gt;&#123;&#123; title &#125;&#125;&lt;/title&gt; &#123;% else %&#125; &lt;title&gt;Falsk App&lt;/title&gt; &#123;% endif %&#125;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;&lt;a href=\"/\"&gt;Flask App&lt;/a&gt; &lt;/h3&gt;&lt;hr&gt;&#123;% block content %&#125; &lt;p&gt;Test&lt;/p&gt;&#123;% endblock %&#125;&lt;/body&gt;&lt;/html&gt; 在 “index.html” 文件中 引用并更改 123&#123;% block content%&#125; &lt;p&gt;&#123;&#123; title &#125;&#125;&lt;/p&gt;&#123;% endblock %&#125; 模板的引用 (导入，对于会在很多地方用到的文件引用)模板模块中定义的会被，引用模板的模块重写掉,如果没有引用则会显示模板模块内的内容，常规情况下默认为空可以把每一个模块(导航栏，报头)新建一个 html 文件 (一个个小组件) 并引入继承到模块 “navbar.html” 自定义报头 12&lt;h3&gt;&lt;a href=\"/\"&gt;Flask App&lt;/a&gt; &lt;/h3&gt;&lt;hr&gt; “base.html” 引入 1&#123;% include 'navbar.html' %&#125; 了解 flask-bootstrap (框架中已经定义好许多 class 的命名、风格) 使界面布局更加好看，将布局封装到Flask的插件可以通过定义 class 的值定义组件位于 页面中的位置Flask—bootstrap 重点学习官网 123456pip install flask-bootstrapfrom flask import Flask, render_templatefrom flask_bootstrap import Bootstrap app &#x3D; Flask(__name__)bootstrap &#x3D; Bootstrap(app) HTML 中引用 bootstrap 从 bootstrap 的 base.html 中的库内引用 Boot-straap 官方提供的模板 123456789&#123;% extends \"bootstrap/base.html\" %&#125;&#123;% block title %&#125;This is an example page&#123;% endblock %&#125;&#123;% block navbar %&#125;&#123;# &#123;% include 'navbar.html' %&#125;#&#125;&#123;% endblock %&#125;&#123;% block content %&#125; &lt;h1&gt;Hello, Bootstrap&lt;/h1&gt;&#123;% endblock %&#125; 重写 bootstrap 里面的类，使之满足自己的需求在 “External Libraries -&gt; site-packages -&gt; flask_bootstrap -&gt; templates -&gt; bootstrap” 内修改内置的各种页面，或者，复制出来在自己的页面中引用修改 创建新的页面 (以点击形式进入新的连接) app.py1234@app.route(&#39;&#x2F;register&#39;)def register(): # 转到 regist.html 页面 return render_template(&#39;register.html&#39;) register.html引用 “base.html” 模板 12345&#123;% extends &#39;base.html&#39; %&#125;&#123;% block app_content %&#125; &lt;h1&gt;Register Now&lt;&#x2F;h1&gt;&#123;% endblock %&#125; base.html引用 navbar.html 页面12345678910&#123;% block navbar %&#125; &#123;% include &#39;navbar.html&#39; %&#125;&#123;% endblock %&#125;&#123;% block content %&#125; &lt;div class&#x3D;&quot;container&quot;&gt; &#123;% block app_content %&#125; &#123;% endblock %&#125; &lt;&#x2F;div&gt;&#123;% endblock %&#125; navbar.html.html设置页面共有文件1234567&lt;ul class&#x3D;&quot;nav navbar-nav navbar-right&quot;&gt; &#123;# 只有当 request.endpoint 是 register 时 才是 active,否则是其他 #&#125; &lt;li class&#x3D;&quot;&#123;% if request.endpoint &#x3D;&#x3D; &#39;register&#39; %&#125;active&#123;% endif %&#125;&quot;&gt; &#123;# 当点击 Regist 时 ，转到 register() 函数 ，由 render_template(register.html) 转到 register.html #&#125; &lt;a href&#x3D;&quot;&#123;&#123; url_for(&#39;register&#39;) &#125;&#125;&quot;&gt;Register&lt;&#x2F;a&gt; &lt;&#x2F;li&gt;&lt;&#x2F;ul&gt; Flask 连接数据库、 Flask mine 找回密码、Flask 登录 (采用关系数据库，Flask提供flask-sqlalchemy连接数据库)flask_sqlalchemy 重点学习官方文档地址 123456789from flask import Flask, render_templatefrom flask_bootstrap import Bootstrapfrom flask_sqlalchemy import SQLAlchemyapp = Flask(__name__)# 给出的是本地的 SQLite 数据库链接地址，可以改为 MySQL 等，只需要改变app.config['SQLALCHEMY_DATABASE_URI'] 值app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:////tmp/test.db'db = SQLAlchemy(app)bootstrap = Bootstrap(app) 为了方便管理，建议将 SQL 配置新建一个 config.py 用于整理配置文件123456789import os basedir = os.path.abspath(os.path.dirname(__file__)) class Config(object): # 如果找到 SQLite 路径就是用，如果没有找到就新建一个 SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \"sqlite:///\" + os.path.join(basedir, 'app.db') SQLALCHEMY_TRACK_MODIFICATIONS = False 建立 models.py 存放构建数据库的结构 123456789101112from app import db class User(db.Model): # nullable 非空 ; unique 不能重复,出现相同就报错 id = db.Column(db.Integer, primary_key=True) username = db.Column(db.String(20), unique=True, nullable=False) password = db.Column(db.String(20), nullable=False) email = db.Column(db.String(120), unique=True, nullable=False) def __repr__(self): return '&lt;User %r&gt;' % self.username 要创建初始数据库，需要在 “Python Console” (3、4、5都在 Python Console 中执行) 导入对象并运行 “SQLAlchemy.create_all” 方法 12from app.models import dbdb.create_all() 创建用户用于测试 123456from app.models import Userfrom app.models import dbuser1 = User(username=\"\", password=\"\", email=\"\")# 添加进数据库，并运行指令db.session.add(user1)db.session.commit() 访问数据库中数据 123456from app.models import Useru = User.query.all()# [&lt;User 'Jack'&gt;]U = u[0]U.password# 'pwd' FlaskWTF 创建 Flask 中的表单，基本包含所有表单123下载:1. pip install flask-WTF2. pip install wtforms FlaskWTF 重点官网主页Flask Bootstrap 与 其他组件联系内容包括 WTF 创建表单 forms.py (用于注册，规定注册页面的内容) 1234567891011121314# FlaskForm 主要负责整合 wtforms 的内容、类型 以及包装from flask_wtf import FlaskForm# 定义数据类型字符串，密码，提交按钮from wtforms import StringField, PasswordField, SubmitField# validators 验证者：需要的数据、数据范围Length(min=6, max=20)、Email、验证密码 EqualTo('password')from wtforms.validators import DataRequired, Length, Email, EqualTo class RegisterForm(FlaskForm): username = StringField('Username', validators=[DataRequired(), Length(min=6, max=20)]) email = StringField('Email', validators=[DataRequired(), Email()]) password = PasswordField('Password', validators=[DataRequired(), Length(min=8, max=20)]) confirm = PasswordField('Repeat Password', validators=[DataRequired(), EqualTo('password')]) submit = SubmitField('Register') 使用 Email类型 时需要下载支持 1pip install email_validator 使用 FlaskWTF 需要秘钥设置， CSRF token 验证 每次随机生成 在 config.py 内设置 12 # SECRET_KEY 秘钥为路径内或者 字符串 &#39;A-VERY-LONG-SECRET&#39; 可以随意设置，主要为了防止跨网站攻击SECRET_KEY &#x3D; os.environ.get(&#39;SECRET_KEY&#39;) or &#39;A-VERY-LONG-SECRET&#39; 在 app.py 主页设置 1app.secret_key &#x3D; &#39;123456&#39; 定义 app.py 内注册页面1234567891011121314151617181920212223from flask import Flask, render_template, request, url_forfrom flask_bootstrap import Bootstrapfrom flask_sqlalchemy import SQLAlchemy from config import Config# 引用 form 内的 注册表单 RegisterFormfrom app.forms import RegisterForm app = Flask(__name__)db = SQLAlchemy(app)bootstrap = Bootstrap(app) app.config.from_object(Config)# 设置 传递数据的方法为 \"GET\" 与 \"POST\"@app.route('/register', methods=['GET', 'POST'])def register(): # 调用 RegisterForm 表单定义 form = RegisterForm() # 定义如果点击后 pass if form.validate_on_submit(): pass # 将表单传入 register,html return render_template('register.html', form=form) 定义 “register.html” : 引用 bootstrap 内的 wtf.html 内容WTF 内部包含 表单提交的各种报错，验证等12345678910111213141516&#123;% extends 'base.html' %&#125;&#123;% block app_content %&#125; &lt;h1&gt;Register Now&lt;/h1&gt; &lt;br&gt; &lt;div class=\"row\"&gt; &#123;# col-md-6 表单大小 #&#125; &lt;div class=\"col-md-6\"&gt; &#123;# 引用 bootstrap 内的 wtf.html 内容 #&#125; &#123;% import 'bootstrap/wtf.html' as wtf %&#125; &#123;# 重点 一句话获取表单 form.py 的设置,快速完成表单，而无需进行大量的微调 #&#125; &#123;&#123; wtf.quick_form(form) &#125;&#125; &lt;/div&gt; &lt;/div&gt;&#123;% endblock %&#125; 额外: 人机验证 RECAPTCHA PUBLIC KEY 验证秘钥，验证是否为机器 forms.py 添加验证 12from flask_wtf import FlaskForm, RecaptchaFieldrecaptcha &#x3D; RecaptchaField() config.py 注册秘钥 123 # RECAPTCHA PUBLIC KEY 验证秘钥，验证是否为机器人RECAPTCHA_PUBLIC_KEY &#x3D; os.environ.get(&#39;RECAPTCHA_PUBLIC_KEY&#39;) or &#39;A-VERY-LONG-PUBLIC-KEY&#39; RECAPTCHA_PRIVATE_KEY &#x3D; os.environ.get(&#39;RECAPTCHA_PRIVATE_KEY&#39;) or &#39;A-VERY-LONG-PRIVATE_KEY&#39; 遇到报错 “需要网站所有者处理的错误：网站密钥无效”,需要自行注册页面 Flask-Bcrypt 加密数据项 ，在服务端处理表单存入数据库1pip install flask-bcrypt 加密数据项 “flask-bcrypy” 中的 “Bcrypy” 模块, 传入数据库 为了避免与 congig.py 内的引用构成 bug 新建 名为”app” 的 package 将除了数据库、config.py移入, 将 app.py 分为 init.py 与 route.py，在外部创建与 config.py 同级的 run.py __init__.py 1234567891011121314151617from flask import Flaskfrom flask_bootstrap import Bootstrapfrom flask_sqlalchemy import SQLAlchemy# 调用模块from flask_bcrypt import Bcrypt from config import Config app = Flask(__name__)db = SQLAlchemy(app)# 定义模块bcrypt = Bcrypt(app)bootstrap = Bootstrap(app) app.config.from_object(Config)from app.route import * route.py 12345678910111213141516171819202122232425262728from flask import render_template, flash from app import app, bcrypt, dbfrom app.forms import RegisterFormfrom app.models import User @app.route('/') # 指定路由def index(): return render_template('index.html') @app.route('/register', methods=['GET', 'POST'])def register(): form = RegisterForm() # 获取提交上来的注册数据，进行处理 if form.validate_on_submit(): username = form.username.data email = form.email.data # 变种hash加密,相同密码生成值也不同 password = bcrypt.generate_password_hash(form.password.data) # 传入数据库内 user = User(username=username, email=email, password=password) db.session.add(user) db.session.commit() # 检查产生密码与hash 是否对应正确 # bcrypt.check_password_hash(hash, password) return render_template('register.html', form=form) run.py 1234from app import app if __name__ == '__main__': app.run(debug=True) 在设置 “models.py” 数据库时，设置 “unique=True 不能重复”，遇见重复的就会报错，需要写函数来辅助判断用户名和密码是否在数据库中，然后给与提示 forms.py 判断是否在数据库中重复，如果在给与报错 1234567891011from wtforms.validators import DataRequired, Length, Email, EqualTo, ValidationErrorclass RegisterForm(FlaskForm): def validate_username(self, username): user &#x3D; User.query.filter_by(username&#x3D;username.data).first() if user: raise ValidationError(&#39;Username already token, please choose another one.&#39;) def validate_email(self, email): email &#x3D; User.query.filter_by(email&#x3D;email.data).first() if email: raise ValidationError(&#39;Email already token, please choose another one.&#39;) route.py (flash提示注册成功，并跳转页面) 12345678910111213141516171819202122232425262728293031from flask import render_template, flash, redirect, url_for from app import app, bcrypt, db from app.forms import RegisterForm from app.models import User @app.route('/') # 指定路由def index(): return render_template('index.html') @app.route('/register', methods=['GET', 'POST'])def register(): form = RegisterForm() # 获取提交上来的注册数据，进行处理 if form.validate_on_submit(): username = form.username.data email = form.email.data # 变种hash加密,相同密码生成值也不同 password = bcrypt.generate_password_hash(form.password.data) user = User(username=username, email=email, password=password) db.session.add(user) db.session.commit() # flash 提示 \"用户注册成功\"，提示信息为 \"success\" 样式 flash('Congrats registration success', category='success') # 提示后转至 index.html 页面 return redirect(url_for('index')) # 检查产生密码与hash 是否对应正确 # bcrypt.check_password_hash(hash, password) return render_template('register.html', form=form) base.html (修改 base.html 页面，确保 flash 成功显示在页面上) 123456789101112131415161718192021222324&#123;% block content %&#125; &lt;div class=\"container\"&gt; &#123;# 提示框 #&#125; &lt;div class=\"row\"&gt; &#123;# 页面大小 #&#125; &lt;div class=\"col-lg-6\"&gt; &#123;# 判断与循环 #&#125; &#123;% with messages = get_flashed_messages(with_categories=True) %&#125; &#123;% if messages %&#125; &#123;% for category, message in messages %&#125; &lt;div class=\"alert alert-&#123;&#123; category &#125;&#125;\"&gt; &#123;&#123; message &#125;&#125; &lt;/div&gt; &#123;% endfor %&#125; &#123;% endif %&#125; &#123;% endwith %&#125; &lt;/div&gt; &lt;/div&gt; &#123;# 在 app_content 注册 上添加 注册成功 提示 #&#125; &#123;% block app_content %&#125; &#123;% endblock %&#125; &lt;/div&gt;&#123;% endblock %&#125; Flask-login 用户登录包，包含很多用于登录、登出的函数pip install flask-login 在 init.py 内引入 flask-login 包，并进行设置 1234567from flask_login import LoginManager# 登录界面的位置login.login_view &#x3D; &#39;login&#39;# 提示 &quot;You must login to access the page&quot; 提示框格式为 &quot;info&quot;login.login_message &#x3D; &quot;You must login to access the page&quot;login.login_message_category &#x3D; &quot;info&quot; 新建 login.html 登录页面，在 forms.py 下 新建 Login 函数，构造 登录需要的部件 12345678910111213&#123;% extends 'base.html' %&#125;&#123;% block app_content %&#125; &lt;h1&gt;Login In&lt;/h1&gt; &lt;br&gt; &lt;div class=\"row\"&gt; &lt;div class=\"col-md-6\"&gt; &#123;% import 'bootstrap/wtf.html' as wtf %&#125; &#123;&#123; wtf.quick_form(form) &#125;&#125; &lt;/div&gt; &lt;/div&gt;&#123;% endblock %&#125; 123456from wtforms import StringField, PasswordField, SubmitField, BooleanFieldclass LoginForm(FlaskForm): username &#x3D; StringField(&#39;Username&#39;, validators&#x3D;[DataRequired(), Length(min&#x3D;6, max&#x3D;20)]) password &#x3D; PasswordField(&#39;Password&#39;, validators&#x3D;[DataRequired(), Length(min&#x3D;8, max&#x3D;20)]) remember &#x3D; BooleanField(&#39;Remember&#39;) submit &#x3D; SubmitField(&#39;Sign In&#39;) 修改 navbar.html 在主页面新增 “Login” 、”Logout” 选项框， 增加判断项，在登录后只显示 “Logout” 选项，未登录时显示 “Login” 与 “Register” 选项， 修改 主页面 (index.html) 显示为 Hello, 123456789101112131415161718&lt;ul class&#x3D;&quot;nav navbar-nav navbar-right&quot;&gt; &#123;# 判断是否处于登录状态，current_user.is_authenticated 获取登录状态 #&#125; &#123;% if not current_user.is_authenticated %&#125; &#123;# 登录界面 #&#125; &lt;li class&#x3D;&quot;&#123;% if request.endpoint &#x3D;&#x3D; &#39;login&#39; %&#125;active&#123;% endif %&#125;&quot;&gt; &lt;a href&#x3D;&quot;&#123;&#123; url_for(&#39;login&#39;) &#125;&#125;&quot;&gt;Login In&lt;&#x2F;a&gt; &lt;&#x2F;li&gt; &#123;# 只有当 request.endpoint 是 index 时 才是 active,否则是其他 #&#125; &lt;li class&#x3D;&quot;&#123;% if request.endpoint &#x3D;&#x3D; &#39;register&#39; %&#125;active&#123;% endif %&#125;&quot;&gt; &lt;a href&#x3D;&quot;&#123;&#123; url_for(&#39;register&#39;) &#125;&#125;&quot;&gt;Register&lt;&#x2F;a&gt; &lt;&#x2F;li&gt; &#123;% else %&#125; &#123;# 登出界面 #&#125; &lt;li class&#x3D;&quot;&#123;% if request.endpoint &#x3D;&#x3D; &#39;logout&#39; %&#125;active&#123;% endif %&#125;&quot;&gt; &lt;a href&#x3D;&quot;&#123;&#123; url_for(&#39;logout&#39;) &#125;&#125;&quot;&gt;Logout&lt;&#x2F;a&gt; &lt;&#x2F;li&gt; &#123;% endif %&#125; &lt;&#x2F;ul&gt; 12345&#123;% extends \"base.html\" %&#125;&#123;% block app_content %&#125;&lt;h1&gt;Hello, &#123;&#123; current_user.username &#125;&#125;&lt;/h1&gt;&#123;% endblock %&#125; 修改数据库设置 model.py，删除数据库重新构建数据库结构 12345678910111213141516171819202122# 引用 UserMinxinfrom flask_login import UserMixin# 从 app 包的 __init__.py 引用 login from app import db, login @login.user_loader# 获取登录用户的 iddef load_user(user_id): return User.query.filter_by(id=user_id).first() class User(db.Model, UserMixin): # nullable 非空 ; unique 不能重复 id = db.Column(db.Integer, primary_key=True) username = db.Column(db.String(20), unique=True, nullable=False) password = db.Column(db.String(20), nullable=False) email = db.Column(db.String(120), unique=True, nullable=False) def __repr__(self): return '&lt;User %r&gt;' % self.username 重构数据库: 在 &quot;Python Console&quot; 内重置数据库 12from app.models import dbdb.create_all() 设置 route.py 为登录方法进行实现 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475from flask import render_template, flash, redirect, url_for, request# 从登录模块引入所需的方法from flask_login import login_user, login_required, current_user, logout_userfrom app import app, bcrypt, db# 从 form.py 内引入 注册表格与登录表格from app.forms import RegisterForm, LoginFormfrom app.models import User @app.route('/') # 指定路由# 需要登录@login_requireddef index(): return render_template('index.html') @app.route('/register', methods=['GET', 'POST'])def register(): # 判断是否是已经处于登录状态,如果是回到主界面 if current_user.is_authenticated: return redirect(url_for('index')) form = RegisterForm() # 获取提交上来的注册数据，进行处理 if form.validate_on_submit(): username = form.username.data email = form.email.data # 变种hash加密,相同密码生成值也不同 password = bcrypt.generate_password_hash(form.password.data) user = User(username=username, email=email, password=password) db.session.add(user) db.session.commit() flash('Congrats registration success', category='success') return redirect(url_for('index')) # 检查产生密码与hash 是否对应正确 # bcrypt.check_password_hash(hash, password) return render_template('register.html', form=form) # 设置登录函数、登录页面、登录方法@app.route('/login', methods=['GET', 'POST'])def login(): # 判断是否是已经处于登录状态,如果是回到主界面 if current_user.is_authenticated: return redirect(url_for('index')) # 获取 登录表格 form = LoginForm() # 如果调交上来的数据不为空 if form.validate_on_submit(): username = form.username.data # 获取密码，检查密码是否与数据库中匹配 password = form.password.data remember = form.remember.data # 根据输入用户名找到数据库中用户信息 user = User.query.filter_by(username=username).first() # 如果用户存在且密码对应正确 if user and bcrypt.check_password_hash(user.password, password): # 设置是否记住登录信息单选框 login_user(user, remember=remember) # 返回登录成功信息 flash(\"login success\", category='info') # http://127.0.0.1:5000/login?next=%2F 由 next 决定接下来进入的页面 if request.args.get('next'): next_page = request.args.get('next') return redirect(next_page) return redirect(url_for('index')) # 如果用户不岑在或者密码错误，flash 出错误 flash(\"User not exists or password not match\", category='danger') return render_template('login.html', form=form) # 设置登出函数、页面@app.route('/logout')def logout(): # 直接引用 flask_login 模块中的 logout_user() logout_user() # 登出后返回登录页面 return redirect(url_for('login'))","categories":[],"tags":[{"name":"Flask_Study","slug":"Flask-Study","permalink":"http://yoursite.com/tags/Flask-Study/"}]},{"title":"Windows下 Git 因移动文件夹导致的问题及解决","slug":"Save-git-problem","date":"2020-08-05T11:37:31.000Z","updated":"2020-08-05T12:33:26.921Z","comments":true,"path":"2020/08/05/save-git-problem/","link":"","permalink":"http://yoursite.com/2020/08/05/save-git-problem/","excerpt":"","text":"Git 因移动文件夹导致更新后不是覆盖原版本而是在重新创建在原路径下，以及鼠标右键快捷菜单中的Git Bash Here 与 Git GUI Here无法使用的问题解决方法 某年某月某日为了方便管理计算机下的软件，我对大部分软件进行了”搬家”，在对软件”搬家”的过程中 Git 产生了一些问题，我花费了半天时间对出现的比较重要的问题进行一点总结。 必须做的事 : 在直接移动文件夹后一定要记得在环境变量中更改所有与 Git 有关的环境变量至现在路径。 问题 1 : 鼠标右键快捷菜单中的Git Bash Here 与 Git GUI Here失去图标，以及无法使用 解决 : Windows 系统下鼠标右键快捷菜单的图标以及功能都与注册表有关。 打开注册表编辑器，在 \\HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\git_gui\\command 与\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\git_shell\\command 下修改Icon 数据为 目前 git_gui.exe 的路径 (&quot;E:\\GitHup\\Git\\cmd\\git-gui.exe&quot; &quot;--working-dir&quot; &quot;%v.&quot;) 与 git_shell.exe 路径 (&quot;E:\\GitHup\\Git\\git-bash.exe&quot; &quot;--cd=%v.&quot;) ,之后 鼠标右键快捷菜单的图标已经恢复，但功能仍未恢复 继续在注册表编辑器中\\HKEY_CLASSES_ROOT\\Directory\\shell\\git_gui\\command与\\HKEY_CLASSES_ROOT\\Directory\\shell\\git_gui\\command下修改 数据为目前 git_gui.exe 的路径 (&quot;E:\\GitHup\\Git\\cmd\\git-gui.exe&quot; &quot;--working-dir&quot; &quot;%1&quot;) 与 git_shell.exe 路径 (&quot;E:\\GitHup\\Git\\git-bash.exe&quot; &quot;--cd=%1&quot;)，然后鼠标右键快捷菜单中图标也可以恢复 部分没有立刻恢复可能需要重启计算机 问题 2 : Git 因移动文件夹导致更新后不是覆盖原版本而是在重新创建在原路径下 解决 : 这个我的办法比较笨，我在注册表 Ctrl + F 查找所有Git 的数据以及注册文件, 然后进行修改为现在文件路径 (对于路径后的东西可以不管) 对于移动后可能出现的其他问题，查看 Git 的全局变量寻找没改过的路径进行修改 123路径： Git -&gt; etc -&gt; gitconfig 以记事本打开Git -&gt; mingw64 -&gt; etc -&gt; gitconfig 以记事本打开 分别修改内部 git 路径。 纯属在百度上搜不到类似问题的解决，又由于自身 git 之前使用不善导致 git 内部许多东西都不想删掉，然后需要更新 git 才摸索出来这种办法","categories":[],"tags":[{"name":"Windows problem","slug":"Windows-problem","permalink":"http://yoursite.com/tags/Windows-problem/"}]},{"title":"pyecharts-Map","slug":"pyecharts-Map","date":"2020-08-03T00:45:27.000Z","updated":"2020-08-03T01:03:53.758Z","comments":true,"path":"2020/08/03/pyecharts-map/","link":"","permalink":"http://yoursite.com/2020/08/03/pyecharts-map/","excerpt":"","text":"pyecharts_Map全部来自于官方文档，主要用于方便自己查找 Map：地图 1234567891011121314from pyecharts.charts import Mapfrom pyecharts.faker import Fakerimport pyecharts.options as optsdata = [list[z] for z in zip(False.guangdong_city, Faker.values())]c = ( Map() .add(series_name=\"\", data_pair=data, maptype=\"广东\") .set_global_opts( title_opts=opts.TitleOpts(title=\"主标题\"), visualmap_opts=opts.VisualMapOpts(max_=200, is_piecewise=True) ) .render('xxx.html')) .add() 12345678910111213141516171819202122232425262728293031323334353637383940414243444546def add( # 系列名称，用于 tooltip 的显示，legend 的图例筛选。 series_name: str, # 数据项 (坐标点名称，坐标点值) data_pair: types.Sequence[types.Union[types.Sequence, opts.MapItem, dict]], # 地图类型，具体参考 pyecharts.datasets.map_filenames.json 文件 maptype: str &#x3D; &quot;china&quot;, # 是否选中图例 is_selected: bool &#x3D; True, # 是否开启鼠标缩放和平移漫游。 is_roam: bool &#x3D; True, # 当前视角的中心点，用经纬度表示 center: Optional[Sequence] &#x3D; None, # 当前视角的缩放比例。 zoom: Optional[Numeric] &#x3D; 1, # 自定义地区的名称映射 name_map: Optional[dict] &#x3D; None, # 标记图形形状 symbol: Optional[str] &#x3D; None, # 是否显示标记图形 is_map_symbol_show: bool &#x3D; True, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[opts.LabelOpts, dict] &#x3D; opts.LabelOpts(), # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[opts.TooltipOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] &#x3D; None, # 高亮标签配置项，参考 &#96;series_options.LabelOpts&#96; emphasis_label_opts: Union[opts.LabelOpts, dict, None] &#x3D; None, # 高亮图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; emphasis_itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] &#x3D; None,) MapItem: 地图数据项 12345678910111213141516171819class MapItem( # 数据所对应的地图区域的名称，例如 &#39;广东&#39;，&#39;浙江&#39;。 name: Optional[str] &#x3D; None, # 该区域的数据值。 value: Optional[Numeric] &#x3D; None, # 该区域是否选中。 is_selected: bool &#x3D; False, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[LabelOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[TooltipOpts, dict, None] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pyecharts-WordCloud","slug":"pyecharts-WordCloud","date":"2020-08-02T08:07:23.000Z","updated":"2020-08-02T08:19:00.920Z","comments":true,"path":"2020/08/02/pyecharts-wordcloud/","link":"","permalink":"http://yoursite.com/2020/08/02/pyecharts-wordcloud/","excerpt":"","text":"pyecharts_WordCloud全部来自于官方文档，主要用于方便自己查找 WordCloud：词云图12345678910111213141516from pyecharts.charts import WordCloudimport pyecharts.options as optsword = [ (\"花鸟市场\", 1446), (\"汽车\", 928), ...] c = (WordCloud() .add(series_name='', data_pair=word, word_size_range=[], mask_image='', textstyle_opts = opts.TextStyleOpts(font_family='cursive') ) .set_global_opts(title_opts=opts.TitleOpts(title='主标题')) .render('xxx.html')) .add()123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960def add( # 系列名称，用于 tooltip 的显示，legend 的图例筛选。 series_name: str, # 系列数据项，[(word1, count1), (word2, count2)] data_pair: Sequence, # 词云图轮廓，有 &#39;circle&#39;, &#39;cardioid&#39;, &#39;diamond&#39;, &#39;triangle-forward&#39;, &#39;triangle&#39;, &#39;pentagon&#39;, &#39;star&#39; 可选 shape: str &#x3D; &quot;circle&quot;, # 自定义的图片（目前支持 jpg, jpeg, png, ico 的格式，其他的图片格式待测试） # 该参数支持： # 1、 base64 （需要补充 data 头）； # 2、本地文件路径（相对或者绝对路径都可以） # 注：如果使用了 mask_image 之后第一次渲染会出现空白的情况，再刷新一次就可以了（Echarts 的问题） # Echarts Issue: https:&#x2F;&#x2F;github.com&#x2F;ecomfe&#x2F;echarts-wordcloud&#x2F;issues&#x2F;74 mask_image: types.Optional[str] &#x3D; None, # 单词间隔 word_gap: Numeric &#x3D; 20, # 单词字体大小范围 word_size_range&#x3D;None, # 旋转单词角度 rotate_step: Numeric &#x3D; 45, # 距离左侧的距离 pos_left: types.Optional[str] &#x3D; None, # 距离顶部的距离 pos_top: types.Optional[str] &#x3D; None, # 距离右侧的距离 pos_right: types.Optional[str] &#x3D; None, # 距离底部的距离 pos_bottom: types.Optional[str] &#x3D; None, # 词云图的宽度 width: types.Optional[str] &#x3D; None, # 词云图的高度 height: types.Optional[str] &#x3D; None, # 允许词云图的数据展示在画布范围之外 is_draw_out_of_bound: bool &#x3D; False, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[opts.TooltipOpts, dict, None] &#x3D; None, # 词云图文字的配置 textstyle_opts: types.TextStyle &#x3D; None, # 词云图文字阴影的范围 emphasis_shadow_blur: types.Optional[types.Numeric] &#x3D; None, # 词云图文字阴影的颜色 emphasis_shadow_color: types.Optional[str] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pyecharts-Pie","slug":"pyecharts-Pie","date":"2020-08-01T02:07:43.000Z","updated":"2020-08-01T02:13:15.003Z","comments":true,"path":"2020/08/01/pyecharts-pie/","link":"","permalink":"http://yoursite.com/2020/08/01/pyecharts-pie/","excerpt":"","text":"pyecharts_Pie全部来自于官方文档，主要用于方便自己查找 Pie：饼图123456789101112131415161718from pyecharts.charts import Pieimport pyecharts.options as opts# .fake 伪造数据生成器，具体看内部代码from pyecharts.faker import Faker# 生成多维数组 eg:[['周一', 127], ['周二', 111], ['周三', 61], ['周四', 94], ['周五', 93], ['周六', 51], ['周日', 47]]data=[list(z) for z in zip(Faker.choose(), Faker.values())]# 颜色列表，与 data 中数据一一对应 color = []c = ( Pie() .add(series_name='', data_pair=data) .set_colors(color) .set_global_opts(title_opts=opts.TitleOpts(title=\"主标题\")) # 生成 饼图外标 \"周一: 127\" .set_series_opts(label_opts=opts.LabelOpts(formatter=\"&#123;b&#125;:&#123;c&#125;\")) .render('xxx.html')) .add() 1234567891011121314151617181920212223242526272829303132333435363738def add( # 系列名称，用于 tooltip 的显示，legend 的图例筛选。 series_name: str, # 系列数据项，格式为 [(key1, value1), (key2, value2)] data_pair: types.Sequence[types.Union[types.Sequence, opts.PieItem, dict]], # 系列 label 颜色 color: Optional[str] &#x3D; None, # 饼图的半径，数组的第一项是内半径，第二项是外半径 # 默认设置成百分比，相对于容器高宽中较小的一项的一半 radius: Optional[Sequence] &#x3D; None, # 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标 # 默认设置成百分比，设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度 center: Optional[Sequence] &#x3D; None, # 是否展示成南丁格尔图，通过半径区分数据大小，有&#39;radius&#39;和&#39;area&#39;两种模式。 # radius：扇区圆心角展现数据的百分比，半径展现数据的大小 # area：所有扇区圆心角相同，仅通过半径展现数据大小 rosetype: Optional[str] &#x3D; None, # 饼图的扇区是否是顺时针排布。 is_clockwise: bool &#x3D; True, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[opts.LabelOpts, dict] &#x3D; opts.LabelOpts(), # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[opts.TooltipOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] &#x3D; None, # 可以定义 data 的哪个维度被编码成什么。 encode: types.Union[types.JSFunc, dict, None] &#x3D; None,) PieItem：饼图数据项 12345678910111213141516171819class PieItem( # 数据项名称。 name: Optional[str] &#x3D; None, # 数据值。 value: Optional[Numeric] &#x3D; None, # 该数据项是否被选中。 is_selected: bool &#x3D; False, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[LabelOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[TooltipOpts, dict, None] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pyecharts-Line","slug":"pyecharts-Line","date":"2020-08-01T01:42:32.000Z","updated":"2020-08-01T01:45:35.147Z","comments":true,"path":"2020/08/01/pyecharts-line/","link":"","permalink":"http://yoursite.com/2020/08/01/pyecharts-line/","excerpt":"","text":"pyecharts_Line全部来自于官方文档，主要用于方便自己查找 Line：折线/面积图12345678910111213141516171819202122232425262728293031323334from pyecharts.charts import Lineimport pyecharts.options as optsx_data = []y_data = []( Line(init_opts=opts.InitOpts()) .add_xaxis(x_data) .add_yaxis( series_name='折线名称', # 折线数据 y_axis= y_data, # 标记点为 markpoint_opts=opts.MarkPointOpts( data=[ opts.MarkPointItem(type_='max', name=\"最大值\"), opts.MarkPointItem(type_='min', name='最小值'), ] ), # 额外标记线 markline_opts=opts.MarkLineOpts( data=[opts.MarkLineItem(type_=\"average\", name=\"平均值\")] ), ) .set_series_opts( # 不透明度设置 areastyle_opts=opts.AreaStyleOpts(opacity=0.5) ) .set_global_opts( title_opts=opts.TitleOpts(title=\"主标题\", subtitle='副标题'), toolbox_opts=opts.TooltipOpts() ) .render(\"xxx.html\")) .add_yaxis() 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980def add_yaxis( # 系列名称，用于 tooltip 的显示，legend 的图例筛选。 series_name: str, # 系列数据 y_axis: types.Sequence[types.Union[opts.LineItem, dict]], # 是否选中图例 is_selected: bool &#x3D; True, # 是否连接空数据，空数据使用 &#96;None&#96; 填充 is_connect_nones: bool &#x3D; False, # 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。 xaxis_index: Optional[Numeric] &#x3D; None, # 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。 yaxis_index: Optional[Numeric] &#x3D; None, # 系列 label 颜色 color: Optional[str] &#x3D; None, # 是否显示 symbol, 如果 false 则只有在 tooltip hover 的时候显示。 is_symbol_show: bool &#x3D; True, # 标记的图形。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, # &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 symbol: Optional[str] &#x3D; None, # 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高， # 例如 [20, 10] 表示标记宽为 20，高为 10。 symbol_size: Union[Numeric, Sequence] &#x3D; 4, # 数据堆叠，同个类目轴上系列配置相同的 stack 值可以堆叠放置。 stack: Optional[str] &#x3D; None, # 是否平滑曲线 is_smooth: bool &#x3D; False, # 是否裁剪超出坐标系部分的图形。折线图：裁掉所有超出坐标系的折线部分，拐点图形的逻辑按照散点图处理 is_clip: bool &#x3D; True, # 是否显示成阶梯图 is_step: bool &#x3D; False, # 是否开启 hover 在拐点标志上的提示动画效果。 is_hover_animation: bool &#x3D; True, # 折线图所有图形的 zlevel 值。 # zlevel用于 Canvas 分层，不同zlevel值的图形会放置在不同的 Canvas 中，Canvas 分层是一种常见的优化手段。 # zlevel 大的 Canvas 会放在 zlevel 小的 Canvas 的上面。 z_level: types.Numeric &#x3D; 0, # 折线图组件的所有图形的z值。控制图形的前后顺序。z值小的图形会被z值大的图形覆盖。 # z 相比 zlevel 优先级更低，而且不会创建新的 Canvas。 z: types.Numeric &#x3D; 0, # 标记点配置项，参考 &#96;series_options.MarkPointOpts&#96; markpoint_opts: Union[opts.MarkPointOpts, dict, None] &#x3D; None, # 标记线配置项，参考 &#96;series_options.MarkLineOpts&#96; markline_opts: Union[opts.MarkLineOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[opts.TooltipOpts, dict, None] &#x3D; None, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[opts.LabelOpts, dict] &#x3D; opts.LabelOpts(), # 线样式配置项，参考 &#96;series_options.LineStyleOpts&#96; linestyle_opts: Union[opts.LineStyleOpts, dict] &#x3D; opts.LineStyleOpts(), # 填充区域配置项，参考 &#96;series_options.AreaStyleOpts&#96; areastyle_opts: Union[opts.AreaStyleOpts, dict] &#x3D; opts.AreaStyleOpts(), # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] &#x3D; None,) LineItem：折线图数据项12345678910111213141516171819202122232425262728293031class LineItem( # 数据项名称。 name: Union[str, Numeric] &#x3D; None, # 数据项的值 value: Union[str, Numeric] &#x3D; None, # 单个数据标记的图形。 symbol: Optional[str] &#x3D; None, # 单个数据标记的大小 symbol_size: Union[Sequence[Numeric], Numeric] &#x3D; None, # 单个数据标记的旋转角度（而非弧度）。 symbol_rotate: Optional[Numeric] &#x3D; None, # 如果 symbol 是 path:&#x2F;&#x2F; 的形式，是否在缩放时保持该图形的长宽比。 symbol_keep_aspect: bool &#x3D; False, # 单个数据标记相对于原本位置的偏移。 symbol_offset: Optional[Sequence] &#x3D; None, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[LabelOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[TooltipOpts, dict, None] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pixabay_爬取","slug":"pixabay-爬取","date":"2020-07-31T12:12:54.000Z","updated":"2020-07-31T13:44:23.847Z","comments":true,"path":"2020/07/31/pixabay-pa-qu/","link":"","permalink":"http://yoursite.com/2020/07/31/pixabay-pa-qu/","excerpt":"","text":"记一次简单的爬虫学习批量爬取 pixabay 图片 pixabay图片查找地址 pixabay网站提供的API 1. pixabay 是一个做的很好的免费图片获取网站，里边有很多高质量免费的图片，有一天我想能不能写一个批量获取图片的爬虫，用于收集那些漂亮图片 2. 说做就做，我先对网站进行最简单的分析(急性子，甚至源码都没细看),然后就开始急急切切的开始了爬取123456789import requestsfrom bs4 import BeautifulSouplink = 'https://pixabay.com/zh/images/search/'headers = &#123;'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ' 'Chrome/78.0.3904.97 Safari/537.36'&#125;response = requests.get(link, headers=headers)soup = BeautifulSoup(response.text, 'lxml')print(soup) 结果当然是失败了，并且基本上没有获得什么有用的信息 3. 然后再对网页源码报头进行仔细查看后仍然一头雾水的我，想到了可能会提供的有 API 接口，然后通过 CTRL + F在源码中搜索，找到了官方提供的 API 结构(赞美官方)pixabay网站提供的API 通过阅读官方文档就能发现只需要注册官方就可以提供一个 API key，每小时下载量也够我这个个人用户使用 官方提供了非常详细的 网址的各种参量拼接方式，以及爬出样本以供分析(出乎意料的是还有影片的接口及查询方式)对链接构成简单分析后，我发现对于自己需要提供的仅仅是KEY, 图片类型(image_type)，搜索条件(q)，爬取页数(page)，每页爬取数(per_page) 于是一段简单的拼接 URL 构成了,也考虑到了翻页的情况 12345678910111213141516def get_json(page, condition, image_type): page +&#x3D; 1 key &#x3D; &#39;&#39; url &#x3D; &#39;https:&#x2F;&#x2F;pixabay.com&#x2F;api&#x2F;&#39; pa &#x3D; &#123; &#39;key&#39;: key, &#39;q&#39;: condition, &#39;image_type&#39;: image_type, &#39;lang&#39;: &#39;zh&#39;, &#39;page&#39;: page, &#39;per_page&#39;: 200, &#125; r &#x3D; requests.get(url, params&#x3D;pa, headers&#x3D;headers) decode_json &#x3D; json.loads(r.text) return decode_json 4. 根据官方提供的例子进行分析，挑出自己需要的部分1234567891011121314151617181920212223242526272829303132333435&#123;\"total\": 4692,\"totalHits\": 500,\"hits\": [ &#123; \"id\": 195893, \"pageURL\": \"https://pixabay.com/en/blossom-bloom-flower-195893/\", \"type\": \"photo\", \"tags\": \"blossom, bloom, flower\", \"previewURL\": \"https://cdn.pixabay.com/photo/2013/10/15/09/12/flower-195893_150.jpg\", \"previewWidth\": 150, \"previewHeight\": 84, \"webformatURL\": \"https://pixabay.com/get/35bbf209e13e39d2_640.jpg\", \"webformatWidth\": 640, \"webformatHeight\": 360, \"largeImageURL\": \"https://pixabay.com/get/ed6a99fd0a76647_1280.jpg\", \"fullHDURL\": \"https://pixabay.com/get/ed6a9369fd0a76647_1920.jpg\", \"imageURL\": \"https://pixabay.com/get/ed6a9364a9fd0a76647.jpg\", \"imageWidth\": 4000, \"imageHeight\": 2250, \"imageSize\": 4731420, \"views\": 7671, \"downloads\": 6439, \"favorites\": 1, \"likes\": 5, \"comments\": 2, \"user_id\": 48777, \"user\": \"Josch13\", \"userImageURL\": \"https://cdn.pixabay.com/user/2013/11/05/02-10-23-764_250x250.jpg\" &#125;, &#123; \"id\": 73424 &#125;]&#125; 在这些里面我们需要的是 图片的类型、图片的标签、图片的大图链接 ，由于最近在学习数据分析，于是我也爬取了图片的下载量、收藏量以及被标记为爱好的量1234567data &#x3D; &#123;&#39;type&#39;: picture[&#39;type&#39;], &#39;tags&#39;: picture[&#39;tags&#39;], &#39;largeImageURL&#39;: picture[&#39;largeImageURL&#39;], &#39;downloads&#39;: picture[&#39;downloads&#39;], # 下载总数 &#39;favorites&#39;: picture[&#39;favorites&#39;], # 收藏夹总数 &#39;like&#39;: picture[&#39;likes&#39;], # 点赞总数&#125; 然后就是对大体框架的编写123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import requestsimport jsonfrom pymongo import MongoClientimport timeimport csvimport pymysqldef get_json(page, condition, image_type): page += 1 key = '' url = 'https://pixabay.com/api/' pa = &#123; 'key': key, 'q': condition, 'image_type': image_type, 'lang': 'zh', 'page': page, 'per_page': 200, &#125; r = requests.get(url, params=pa, headers=headers) decode_json = json.loads(r.text) return decode_jsonpage = 0id = 0headers = &#123;'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ' 'Chrome/78.0.3904.97 Safari/537.36'&#125;condition = input(\"请输入你的搜索条件(多个条件以+连接): \")image_type = input(\"请输入搜索图片类型( 'all, photo, illustration插图, vector矢量'): \")number = input('请输入想要查询的图片页数num (num*200每页200条数据): ')# 存入 Nosql 数据库client = MongoClient('localhost', 27017)db = client.pixabay_databasecollection = db.pixabayfor _ in range(1, int(number)): decode_json = get_json(page, condition, image_type) for picture in decode_json['hits']: id += 1 data = &#123;'id': id, 'type': picture['type'], 'tags': picture['tags'], 'largeImageURL': picture['largeImageURL'], 'downloads': picture['downloads'], # 下载总数 'favorites': picture['favorites'], # 收藏夹总数 'like': picture['likes'], # 点赞总数 &#125; print('开始存入数据库') collection.insert_one(data)# 存入Mysql数据库'''db = pymysql.connect(host='localhost', user=\"root\", passwd=\"root\", port=3306, db='pixabay', charset='utf8')cursor = db.cursor()for _ in range(1, int(number)): decode_json = get_json(page, condition, image_type) for picture in decode_json['hits']: id += 1 data = &#123;'id': id, 'type': picture['type'], 'tags': picture['tags'], 'largeImageURL': picture['largeImageURL'], 'downloads': picture['downloads'], # 下载总数 'favorites': picture['favorites'], # 收藏夹总数 'like': picture['likes'], # 点赞总数 &#125; print('开始存入数据库') sql = \"\"\"INSERT INTO pixabay (type, tags, largeImageURL, downloads, favorites, likes) VALUES (%s, %s, %s, %s, %s, %s) \"\"\" cursor.execute(sql, ( picture['type'], picture['tags'], picture['largeImageURL'], picture['downloads'], picture['favorites'], picture['likes'])) db.commit()# print(data)cursor.close()db.close()'''# 存为 CSV 格式'''with open('/helper_hu/analysis_pixabay/analysis_pixabay.csv', 'a+', encoding='UTF-8', newline='') as csvfile: head = ['id', 'type', 'tags', 'largeImageURL', 'downloads', 'favorites', 'like'] writer = csv.writer(csvfile) writer.writerow(head) for _ in range(1, int(number)): decode_json = get_json(page, condition, image_type) for picture in decode_json['hits']: id += 1 data = &#123;'id': id, 'type': picture['type'], 'tags': picture['tags'], 'largeImageURL': picture['largeImageURL'], 'downloads': picture['downloads'], # 下载总数 'favorites': picture['favorites'], # 收藏夹总数 'like': picture['likes'], # 点赞总数 &#125; # head = list(data.keys()) rows = list(data.values()) writer.writerow(rows) print('写入数据id=&#123;&#125;'.format(id)) time.sleep(1.0)''' 小结：分别写了3种存储方式 MySQL、MangoDB以及CSV，之后我用读取CSV 数据的方法简单分析了一类图片下用户最喜欢的图片以及下载量最多的。","categories":[],"tags":[{"name":"scrapy_study","slug":"scrapy-study","permalink":"http://yoursite.com/tags/scrapy-study/"}]},{"title":"pyecharts_global_options","slug":"pyecharts_global_options","date":"2020-07-30T12:12:54.000Z","updated":"2020-07-31T13:52:17.657Z","comments":true,"path":"2020/07/30/pyecharts-global-options/","link":"","permalink":"http://yoursite.com/2020/07/30/pyecharts-global-options/","excerpt":"","text":"pyecharts 配置项全部来自于官方文档，主要用于方便自己查找全局配置项 (按常用顺序排序) InitOpts: 初始化配置项 (class pyecharts.options.InitOpts) 123456789101112131415161718192021222324252627282930class InitOpts( # 图表画布宽度，css 长度单位。 width: str &#x3D; &quot;900px&quot;, # 图表画布高度，css 长度单位。 height: str &#x3D; &quot;500px&quot;, # 图表 ID，图表唯一标识，用于在多图表时区分。 chart_id: Optional[str] &#x3D; None, # 渲染风格，可选 &quot;canvas&quot;, &quot;svg&quot; # # 参考 &#96;全局变量&#96; 章节 renderer: str &#x3D; RenderType.CANVAS, # 网页标题 page_title: str &#x3D; &quot;Awesome-pyecharts&quot;, # 图表主题 theme: str &#x3D; &quot;white&quot;, # 图表背景颜色 bg_color: Optional[str] &#x3D; None, # 远程 js host，如不设置默认为 https:&#x2F;&#x2F;assets.pyecharts.org&#x2F;assets&#x2F;&quot; # 参考 &#96;全局变量&#96; 章节 js_host: str &#x3D; &quot;&quot;, # 画图动画初始化配置，参考 &#96;global_options.AnimationOpts&#96; animation_opts: Union[AnimationOpts, dict] &#x3D; AnimationOpts(),) TitleOpts：标题配置项 (class pyecharts.options.TitleOpts) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263class TitleOpts( # 主标题文本，支持使用 \\n 换行。 title: Optional[str] &#x3D; None, # 主标题跳转 URL 链接 title_link: Optional[str] &#x3D; None, # 主标题跳转链接方式,默认值是: blank # 可选参数: &#39;self&#39;, &#39;blank&#39;: &#39;self&#39; 当前窗口打开; &#39;blank&#39; 新窗口打开 title_target: Optional[str] &#x3D; None, # 副标题文本，支持使用 \\n 换行。 subtitle: Optional[str] &#x3D; None, # 副标题跳转 URL 链接 subtitle_link: Optional[str] &#x3D; None, # 副标题跳转链接方式, 默认值是: blank # 可选参数: &#39;self&#39;, &#39;blank&#39;: &#39;self&#39; 当前窗口打开; &#39;blank&#39; 新窗口打开 subtitle_target: Optional[str] &#x3D; None, # title 组件离容器左侧的距离。left 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;。 # 如果 left 的值为&#39;left&#39;, &#39;center&#39;, &#39;right&#39;，组件会根据相应的位置自动对齐。 pos_left: Optional[str] &#x3D; None, # title 组件离容器右侧的距离。 # right 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_right: Optional[str] &#x3D; None, # title 组件离容器上侧的距离。 # top 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。 # 如果 top 的值为&#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;，组件会根据相应的位置自动对齐。 pos_top: Optional[str] &#x3D; None, # title 组件离容器下侧的距离。 # bottom 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_bottom: Optional[str] &#x3D; None, # 标题内边距，单位px，默认各方向内边距为5，接受数组分别设定上右下左边距。 # &#x2F;&#x2F; 设置内边距为 5 # padding: 5 # &#x2F;&#x2F; 设置上下的内边距为 5，左右的内边距为 10 # padding: [5, 10] # &#x2F;&#x2F; 分别设置四个方向的内边距 # padding: [ # 5, &#x2F;&#x2F; 上 # 10, &#x2F;&#x2F; 右 # 5, &#x2F;&#x2F; 下 # 10, &#x2F;&#x2F; 左 # ] padding: Union[Sequence, Numeric] &#x3D; 5, # 主副标题之间的间距。 item_gap: Numeric &#x3D; 10, # 主标题字体样式配置项，参考 &#96;series_options.TextStyleOpts&#96; title_textstyle_opts: Union[TextStyleOpts, dict, None] &#x3D; None, # 副标题字体样式配置项，参考 &#96;series_options.TextStyleOpts&#96; subtitle_textstyle_opts: Union[TextStyleOpts, dict, None] &#x3D; None,) TooltipOpts：提示框配置项 (class pyecharts.options.TooltipOpts) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990class TooltipOpts( # 是否显示提示框组件，包括提示框浮层和 axisPointer。 is_show: bool &#x3D; True, # 触发类型。可选： # &#39;item&#39;: 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。 # &#39;axis&#39;: 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。 # &#39;none&#39;: 什么都不触发 trigger: str &#x3D; &quot;item&quot;, # 提示框触发的条件，可选： # &#39;mousemove&#39;: 鼠标移动时触发。 # &#39;click&#39;: 鼠标点击时触发。 # &#39;mousemove|click&#39;: 同时鼠标移动和点击时触发。 # &#39;none&#39;: 不在 &#39;mousemove&#39; 或 &#39;click&#39; 时触发， trigger_on: str &#x3D; &quot;mousemove|click&quot;, # 指示器类型。可选 # &#39;line&#39;：直线指示器; &#39;shadow&#39;：阴影指示器; &#39;none&#39;：无指示器 # &#39;cross&#39;：十字准星指示器。其实是种简写，表示启用两个正交的轴的 axisPointer。 axis_pointer_type: str &#x3D; &quot;line&quot;, # 是否显示提示框浮层，默认显示。 # 只需 tooltip 触发事件或显示 axisPointer 而不需要显示内容时可配置该项为 false。 is_show_content: bool &#x3D; True, # 是否永远显示提示框内容， # 默认情况下在移出可触发提示框区域后一定时间后隐藏，设置为 true 可以保证一直显示提示框内容。 is_always_show_content: bool &#x3D; False, # 浮层显示的延迟，单位为 ms，默认没有延迟，也不建议设置。 show_delay: Numeric &#x3D; 0, # 浮层隐藏的延迟，单位为 ms，在 alwaysShowContent 为 true 的时候无效。 hide_delay: Numeric &#x3D; 100, # 提示框浮层的位置，默认不设置时位置会跟随鼠标的位置。 # 1、通过数组配置： # 绝对位置，相对于容器左侧 10px, 上侧 10 px &#x3D;&#x3D;&#x3D;&gt; position: [10, 10] # 相对位置，放置在容器正中间 &#x3D;&#x3D;&#x3D;&gt; position: [&#39;50%&#39;, &#39;50%&#39;] # 2、通过回调函数配置 # 3、固定参数配置：&#39;inside&#39;，&#39;top&#39;，&#39;left&#39;，&#39;right&#39;，&#39;bottom&#39; position: Union[str, Sequence, JSFunc] &#x3D; None, # 标签内容格式器，支持字符串模板和回调函数两种形式，字符串模板与回调函数返回的字符串均支持用 \\n 换行。 # 字符串模板 模板变量有： # &#123;a&#125;：系列名。 # &#123;b&#125;：数据名。 # &#123;c&#125;：数据值。 # &#123;@xxx&#125;：数据中名为 &#39;xxx&#39; 的维度的值，如 &#123;@product&#125; 表示名为 &#39;product&#39;&#96; 的维度的值。 # &#123;@[n]&#125;：数据中维度 n 的值，如&#123;@[3]&#125;&#96; 表示维度 3 的值，从 0 开始计数。 # 示例：formatter: &#39;&#123;b&#125;: &#123;@score&#125;&#39; # # 回调函数，回调函数格式： # (params: Object|Array) &#x3D;&gt; string # 参数 params 是 formatter 需要的单个数据集。格式如下： # &#123; # componentType: &#39;series&#39;, # &#x2F;&#x2F; 系列类型 # seriesType: string, # &#x2F;&#x2F; 系列在传入的 option.series 中的 index # seriesIndex: number, # &#x2F;&#x2F; 系列名称 # seriesName: string, # &#x2F;&#x2F; 数据名，类目名 # name: string, # &#x2F;&#x2F; 数据在传入的 data 数组中的 index # dataIndex: number, # &#x2F;&#x2F; 传入的原始数据项 # data: Object, # &#x2F;&#x2F; 传入的数据值 # value: number|Array, # &#x2F;&#x2F; 数据图形的颜色 # color: string, # &#125; formatter: Optional[str] &#x3D; None, # 提示框浮层的背景颜色。 background_color: Optional[str] &#x3D; None, # 提示框浮层的边框颜色。 border_color: Optional[str] &#x3D; None, # 提示框浮层的边框宽。 border_width: Numeric &#x3D; 0, # 文字样式配置项，参考 &#96;series_options.TextStyleOpts&#96; textstyle_opts: TextStyleOpts &#x3D; TextStyleOpts(font_size&#x3D;14),)&#96;&#96;&#96; AnimationOpts：Echarts 画图动画配置项 (class pyecharts.options.Animation) 12345678910111213141516171819202122232425262728293031class AnimationOpts( # 是否开启动画，默认为 True 开启。 animation: bool &#x3D; True, # 是否开启动画的阈值，当单个系列显示的图形数量大于这个阈值时会关闭动画。默认 2000。 animation_threshold: Numeric &#x3D; 2000, # 初始动画的时长，默认值为 1000。 # 支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的初始动画效果： animation_duration: Union[Numeric, JSFunc] &#x3D; 1000, # 初始动画的缓动效果。 # 不同的缓动效果可以参考，缓动示例 (https:&#x2F;&#x2F;www.echartsjs.com&#x2F;gallery&#x2F;editor.html?c&#x3D;line-easing)。 animation_easing: Union[str] &#x3D; &quot;cubicOut&quot;, # 初始动画的延迟，默认值为 0。 # 支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的初始动画效果。 animation_delay: Union[Numeric, JSFunc] &#x3D; 0, # 数据更新动画的时长，默认值为 300。 # 支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的更新动画效果： animation_duration_update: Union[Numeric, JSFunc] &#x3D; 300, # 数据更新动画的缓动效果。 # 不同的缓动效果可以参考，缓动示例 (https:&#x2F;&#x2F;www.echartsjs.com&#x2F;gallery&#x2F;editor.html?c&#x3D;line-easing)。 animation_easing_update: Union[Numeric] &#x3D; &quot;cubicOut&quot;, # 数据更新动画的延迟，默认值为 0。 # 支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的更新动画效果。 animation_delay_update: Union[Numeric, JSFunc] &#x3D; 0,) LegendOpts：图例配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667class LegendOpts( # 图例的类型。可选值： # &#39;plain&#39;：普通图例。缺省就是普通图例。 # &#39;scroll&#39;：可滚动翻页的图例。当图例数量较多时可以使用。 type_: Optional[str] &#x3D; None, # 图例选择的模式，控制是否可以通过点击图例改变系列的显示状态。默认开启图例选择，可以设成 false 关闭 # 除此之外也可以设成 &#39;single&#39; 或者 &#39;multiple&#39; 使用单选或者多选模式。 selected_mode: Union[str, bool, None] &#x3D; None, # 是否显示图例组件 is_show: bool &#x3D; True, # 图例组件离容器左侧的距离。 # left 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;。 # 如果 left 的值为&#39;left&#39;, &#39;center&#39;, &#39;right&#39;，组件会根据相应的位置自动对齐。 pos_left: Union[str, Numeric, None] &#x3D; None, # 图例组件离容器右侧的距离。 # right 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_right: Union[str, Numeric, None] &#x3D; None, # 图例组件离容器上侧的距离。 # top 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。 # 如果 top 的值为&#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;，组件会根据相应的位置自动对齐。 pos_top: Union[str, Numeric, None] &#x3D; None, # 图例组件离容器下侧的距离。 # bottom 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_bottom: Union[str, Numeric, None] &#x3D; None, # 图例列表的布局朝向。可选：&#39;horizontal&#39;, &#39;vertical&#39; orient: Optional[str] &#x3D; None, # 图例标记和文本的对齐。默认自动（auto） # 根据组件的位置和 orient 决定 # 当组件的 left 值为 &#39;right&#39; 以及纵向布局（orient 为 &#39;vertical&#39;）的时候为右对齐，即为 &#39;right&#39;。 # 可选参数: &#96;auto&#96;, &#96;left&#96;, &#96;right&#96; align: Optional[str] &#x3D; None, # 图例内边距，单位px，默认各方向内边距为5 padding: int &#x3D; 5, # 图例每项之间的间隔。横向布局时为水平间隔，纵向布局时为纵向间隔。 # 默认间隔为 10 item_gap: int &#x3D; 10, # 图例标记的图形宽度。默认宽度为 25 item_width: int &#x3D; 25, # 图例标记的图形高度。默认高度为 14 item_height: int &#x3D; 14, # 图例关闭时的颜色。默认是 #ccc inactive_color: Optional[str] &#x3D; None, # 图例组件字体样式，参考 &#96;series_options.TextStyleOpts&#96; textstyle_opts: Union[TextStyleOpts, dict, None] &#x3D; None, # 图例项的 icon。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 # 可以通过 &#39;path:&#x2F;&#x2F;&#39; 将图标设置为任意的矢量路径。 legend_icon: Optional[str] &#x3D; None,) AxisLineOpts：坐标轴尺寸配置项 12345678910111213141516171819class AxisLineOpts( # 是否显示坐标轴轴线。 is_show: bool &#x3D; True, # X 轴或者 Y 轴的轴线是否在另一个轴的 0 刻度上，只有在另一个轴为数值轴且包含 0 刻度时有效。 is_on_zero: bool &#x3D; True, # 当有双轴时，可以用这个属性手动指定，在哪个轴的 0 刻度上。 on_zero_axis_index: int &#x3D; 0, # 轴线两边的箭头。可以是字符串，表示两端使用同样的箭头；或者长度为 2 的字符串数组，分别表示两端的箭头。 # 默认不显示箭头，即 &#39;none&#39;。 # 两端都显示箭头可以设置为 &#39;arrow&#39;。 # 只在末端显示箭头可以设置为 [&#39;none&#39;, &#39;arrow&#39;]。 symbol: Optional[str] &#x3D; None, # 坐标轴线风格配置项，参考 &#96;series_optionsLineStyleOpts&#96; linestyle_opts: Union[LineStyleOpts, dict, None] &#x3D; None,) AxisPointerOpts：坐标轴指示器配置项 1234567891011121314151617181920212223class AxisPointerOpts( # 默认显示坐标轴指示器 is_show: bool &#x3D; True, # 不同轴的 axisPointer 可以进行联动，在这里设置。联动表示轴能同步一起活动。 # 轴依据他们的 axisPointer 当前对应的值来联动。 # link 是一个数组，其中每一项表示一个 link group，一个 group 中的坐标轴互相联动。 # 具体使用方式可以参见：https:&#x2F;&#x2F;www.echartsjs.com&#x2F;option.html#axisPointer.link link: Sequence[dict] &#x3D; None, # 指示器类型。 # 可选参数如下，默认为 &#39;line&#39; # &#39;line&#39; 直线指示器 # &#39;shadow&#39; 阴影指示器 # &#39;none&#39; 无指示器 type_: str &#x3D; &quot;line&quot;, # 坐标轴指示器的文本标签，坐标轴标签配置项，参考 &#96;series_options.LabelOpts&#96; label: Union[LabelOpts, dict, None] &#x3D; None, # 坐标轴线风格配置项，参考 &#96;series_optionsLineStyleOpts&#96; linestyle_opts: Union[LineStyleOpts, dict, None] &#x3D; None,) AxisOpts：坐标轴配置项 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111class AxisOpts( # 坐标轴类型。可选： # &#39;value&#39;: 数值轴，适用于连续数据。 # &#39;category&#39;: 类目轴，适用于离散的类目数据，为该类型时必须通过 data 设置类目数据。 # &#39;time&#39;: 时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同， # 例如会根据跨度的范围来决定使用月，星期，日还是小时范围的刻度。 # &#39;log&#39; 对数轴。适用于对数数据。 type_: Optional[str] &#x3D; None, # 坐标轴名称。 name: Optional[str] &#x3D; None, # 是否显示 x 轴。 is_show: bool &#x3D; True, # 只在数值轴中（type: &#39;value&#39;）有效。 # 是否是脱离 0 值比例。设置成 true 后坐标刻度不会强制包含零刻度。在双数值轴的散点图中比较有用。 # 在设置 min 和 max 之后该配置项无效。 is_scale: bool &#x3D; False, # 是否反向坐标轴。 is_inverse: bool &#x3D; False, # 坐标轴名称显示位置。可选： # &#39;start&#39;, &#39;middle&#39; 或者 &#39;center&#39;,&#39;end&#39; name_location: str &#x3D; &quot;end&quot;, # 坐标轴名称与轴线之间的距离。 name_gap: Numeric &#x3D; 15, # 坐标轴名字旋转，角度值。 name_rotate: Optional[Numeric] &#x3D; None, # 强制设置坐标轴分割间隔。 # 因为 splitNumber 是预估的值，实际根据策略计算出来的刻度可能无法达到想要的效果， # 这时候可以使用 interval 配合 min、max 强制设定刻度划分，一般不建议使用。 # 无法在类目轴中使用。在时间轴（type: &#39;time&#39;）中需要传时间戳，在对数轴（type: &#39;log&#39;）中需要传指数值。 interval: Optional[Numeric] &#x3D; None, # x 轴所在的 grid 的索引，默认位于第一个 grid。 grid_index: Numeric &#x3D; 0, # x 轴的位置。可选： # &#39;top&#39;, &#39;bottom&#39; # 默认 grid 中的第一个 x 轴在 grid 的下方（&#39;bottom&#39;），第二个 x 轴视第一个 x 轴的位置放在另一侧。 position: Optional[str] &#x3D; None, # Y 轴相对于默认位置的偏移，在相同的 position 上有多个 Y 轴的时候有用。 offset: Numeric &#x3D; 0, # 坐标轴的分割段数，需要注意的是这个分割段数只是个预估值，最后实际显示的段数会在这个基础上根据分割后坐标轴刻度显示的易读程度作调整。 # 默认值是 5 split_number: Numeric &#x3D; 5, # 坐标轴两边留白策略，类目轴和非类目轴的设置和表现不一样。 # 类目轴中 boundaryGap 可以配置为 true 和 false。默认为 true，这时候刻度只是作为分隔线， # 标签和数据点都会在两个刻度之间的带(band)中间。 # 非类目轴，包括时间，数值，对数轴，boundaryGap是一个两个值的数组，分别表示数据最小值和最大值的延伸范围 # 可以直接设置数值或者相对的百分比，在设置 min 和 max 后无效。 示例：boundaryGap: [&#39;20%&#39;, &#39;20%&#39;] boundary_gap: Union[str, bool, None] &#x3D; None, # 坐标轴刻度最小值。 # 可以设置成特殊值 &#39;dataMin&#39;，此时取数据在该轴上的最小值作为最小刻度。 # 不设置时会自动计算最小值保证坐标轴刻度的均匀分布。 # 在类目轴中，也可以设置为类目的序数（如类目轴 data: [&#39;类A&#39;, &#39;类B&#39;, &#39;类C&#39;] 中，序数 2 表示 &#39;类C&#39;。 # 也可以设置为负数，如 -3）。 min_: Union[Numeric, str, None] &#x3D; None, # 坐标轴刻度最大值。 # 可以设置成特殊值 &#39;dataMax&#39;，此时取数据在该轴上的最大值作为最大刻度。 # 不设置时会自动计算最大值保证坐标轴刻度的均匀分布。 # 在类目轴中，也可以设置为类目的序数（如类目轴 data: [&#39;类A&#39;, &#39;类B&#39;, &#39;类C&#39;] 中，序数 2 表示 &#39;类C&#39;。 # 也可以设置为负数，如 -3）。 max_: Union[Numeric, str, None] &#x3D; None, # 自动计算的坐标轴最小间隔大小。 # 例如可以设置成1保证坐标轴分割刻度显示成整数。 # 默认值是 0 min_interval: Numeric &#x3D; 0, # 自动计算的坐标轴最大间隔大小。 # 例如，在时间轴（（type: &#39;time&#39;））可以设置成 3600 * 24 * 1000 保证坐标轴分割刻度最大为一天。 max_interval: Optional[Numeric] &#x3D; None, # 坐标轴刻度线配置项，参考 &#96;global_options.AxisLineOpts&#96; axisline_opts: Union[AxisLineOpts, dict, None] &#x3D; None, # 坐标轴刻度配置项，参考 &#96;global_options.AxisTickOpts&#96; axistick_opts: Union[AxisTickOpts, dict, None] &#x3D; None, # 坐标轴标签配置项，参考 &#96;series_options.LabelOpts&#96; axislabel_opts: Union[LabelOpts, dict, None] &#x3D; None, # 坐标轴指示器配置项，参考 &#96;global_options.AxisPointerOpts&#96; axispointer_opts: Union[AxisPointerOpts, dict, None] &#x3D; None, # 坐标轴名称的文字样式，参考 &#96;series_options.TextStyleOpts&#96; name_textstyle_opts: Union[TextStyleOpts, dict, None] &#x3D; None, # 分割区域配置项，参考 &#96;series_options.SplitAreaOpts&#96; splitarea_opts: Union[SplitAreaOpts, dict, None] &#x3D; None, # 分割线配置项，参考 &#96;series_options.SplitLineOpts&#96; splitline_opts: Union[SplitLineOpts, dict] &#x3D; SplitLineOpts(), # 坐标轴次刻度线相关设置，参考 &#96;series_options.MinorTickOpts&#96; minor_tick_opts: Union[MinorTickOpts, dict, None] &#x3D; None, # 坐标轴在 grid 区域中的次分隔线。次分割线会对齐次刻度线 minorTick，参考 &#96;series_options.MinorSplitLineOpts&#96; minor_split_line_opts: Union[MinorSplitLineOpts, dict, None] &#x3D; None,) SingleAxisOpts：单轴配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455class SingleAxisOpts( # 坐标轴名称。 name: Optional[str] &#x3D; None, # 坐标轴刻度最大值。 # 可以设置成特殊值 &#39;dataMax&#39;，此时取数据在该轴上的最大值作为最大刻度。 # 不设置时会自动计算最大值保证坐标轴刻度的均匀分布。 # 在类目轴中，也可以设置为类目的序数（如类目轴 data: [&#39;类A&#39;, &#39;类B&#39;, &#39;类C&#39;] 中，序数 2 表示 &#39;类C&#39;。 # 也可以设置为负数，如 -3）。 max_: Union[str, Numeric, None] &#x3D; None, # 坐标轴刻度最小值。 # 可以设置成特殊值 &#39;dataMin&#39;，此时取数据在该轴上的最小值作为最小刻度。 # 不设置时会自动计算最小值保证坐标轴刻度的均匀分布。 # 在类目轴中，也可以设置为类目的序数（如类目轴 data: [&#39;类A&#39;, &#39;类B&#39;, &#39;类C&#39;] 中，序数 2 表示 &#39;类C&#39;。 # 也可以设置为负数，如 -3）。 min_: Union[str, Numeric, None] &#x3D; None, # single 组件离容器左侧的距离。 # left 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;。 # 如果 left 的值为&#39;left&#39;, &#39;center&#39;, &#39;right&#39;，组件会根据相应的位置自动对齐。 pos_left: Optional[str] &#x3D; None, # single组件离容器右侧的距离。 # right 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_right: Optional[str] &#x3D; None, # single组件离容器上侧的距离。 # top 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。 # 如果 top 的值为&#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;，组件会根据相应的位置自动对齐。 pos_top: Optional[str] &#x3D; None, # single组件离容器下侧的距离。 # bottom 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_bottom: Optional[str] &#x3D; None, # single 组件的宽度。默认自适应。 width: Optional[str] &#x3D; None, # single 组件的高度。默认自适应。 height: Optional[str] &#x3D; None, # 轴的朝向，默认水平朝向，可以设置成 &#39;vertical&#39; 垂直朝向。 orient: Optional[str] &#x3D; None, # 坐标轴类型。可选： # &#39;value&#39;: 数值轴，适用于连续数据。 # &#39;category&#39;: 类目轴，适用于离散的类目数据，为该类型时必须通过 data 设置类目数据。 # &#39;time&#39;: 时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同， # 例如会根据跨度的范围来决定使用月，星期，日还是小时范围的刻度。 # &#39;log&#39; 对数轴。适用于对数数据。 type_: Optional[str] &#x3D; None,) GraphicGroup：原生图形元素组件 1234567891011class GraphicGroup( # 图形的配置项 graphic_item: Union[GraphicItem, dict, None] &#x3D; None, # 根据其 children 中每个图形元素的 name 属性进行重绘 is_diff_children_by_name: bool &#x3D; False, # 子节点列表，其中项都是一个图形元素定义。 # 目前可以选择 GraphicText，GraphicImage，GraphicRect children: Optional[Sequence[BaseGraphic]] &#x3D; None,) GraphicItem：原生图形配置项 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677class GraphicItem( # id 用于在更新或删除图形元素时指定更新哪个图形元素，如果不需要用可以忽略。 id_: Optional[str] &#x3D; None, # setOption 时指定本次对该图形元素的操作行为。可选： # &#39;merge&#39;：如果已有元素，则新的配置项和已有的设定进行 merge。如果没有则新建。 # &#39;replace&#39;：如果已有元素，删除之，新建元素替代之。 # &#39;remove&#39;：删除元素。 action: str &#x3D; &quot;merge&quot;, # 平移（position）：默认值是 [0, 0]。表示 [横向平移的距离, 纵向平移的距离]。右和下为正值。 position: [Sequence, Numeric, None] &#x3D; None, # 旋转（rotation）：默认值是 0。表示旋转的弧度值。正值表示逆时针旋转。 rotation: Union[Numeric, JSFunc, None] &#x3D; 0, # 缩放（scale）：默认值是 [1, 1]。表示 [横向缩放的倍数, 纵向缩放的倍数]。 scale: Union[Sequence, Numeric, None] &#x3D; None, # origin 指定了旋转和缩放的中心点，默认值是 [0, 0]。 origin: Union[Numeric, Sequence, None] &#x3D; None, # 描述怎么根据父元素进行定位。 # 父元素是指：如果是顶层元素，父元素是 echarts 图表容器。如果是 group 的子元素，父元素就是 group 元素。 # 值的类型可以是： # 数值：表示像素值。 # 百分比值：如 &#39;33%&#39;，用父元素的高和此百分比计算出最终值。 # 位置：如 &#39;center&#39;：表示自动居中。 # 注：left 和 right 只有一个可以生效。如果指定 left 或 right，则 shape 里的 x、cx 等定位属性不再生效。 left: Union[Numeric, str, None] &#x3D; None, # 同上 right: Union[Numeric, str, None] &#x3D; None, # 配置和 left 及 right 相同， 注：top 和 bottom 只有一个可以生效。 top: Union[Numeric, str, None] &#x3D; None, # 同上 bottom: Union[Numeric, str, None] &#x3D; None, # 决定此图形元素在定位时，对自身的包围盒计算方式。可选： # &#39;all&#39;：（默认） 表示用自身以及子节点整体的经过 transform 后的包围盒进行定位。这种方式易于使整体都限制在父元素范围中。 # &#39;raw&#39;：表示仅仅用自身（不包括子节点）的没经过 tranform 的包围盒进行定位。这种方式易于内容超出父元素范围的定位方式。 bounding: str &#x3D; &quot;all&quot;, # z 方向的高度，决定层叠关系。 z: Numeric &#x3D; 0, # 决定此元素绘制在哪个 canvas 层中。注意，越多 canvas 层会占用越多资源。 z_level: Numeric &#x3D; 0, # 是否不响应鼠标以及触摸事件。 is_silent: bool &#x3D; False, # 节点是否可见。 is_invisible: bool &#x3D; False, # 节点是否完全被忽略（既不渲染，也不响应事件）。 is_ignore: bool &#x3D; False, # 鼠标悬浮时在图形元素上时鼠标的样式是什么。同 CSS 的 cursor。 cursor: str &#x3D; &quot;pointer&quot;, # 图形元素是否可以被拖拽。 is_draggable: bool &#x3D; False, # 是否渐进式渲染。当图形元素过多时才使用。 is_progressive: bool &#x3D; False, # 用于描述此 group 的宽。这个宽只用于给子节点定位。 # 即便当宽度为零的时候，子节点也可以使用 left: &#39;center&#39; 相对于父节点水平居中。 width: Numeric &#x3D; 0, # 用于描述此 group 的高。这个高只用于给子节点定位。 # 即便当高度为零的时候，子节点也可以使用 top: &#39;middle&#39; 相对于父节点垂直居中。 height: Numeric &#x3D; 0,) GraphicBasicStyleOpts：原生图形基础配置项 12345678910111213141516171819202122class GraphicBasicStyleOpts( # 填充色。 fill: str &#x3D; &quot;#000&quot;, # 笔画颜色。 stroke: Optional[str] &#x3D; None, # 笔画宽度。 line_width: Numeric &#x3D; 0, # 阴影宽度。 shadow_blur: Optional[Numeric] &#x3D; None, # 阴影 X 方向偏移。 shadow_offset_x: Optional[Numeric] &#x3D; None, # 阴影 Y 方向偏移。 shadow_offset_y: Optional[Numeric] &#x3D; None, # 阴影颜色。 shadow_color: Optional[str] &#x3D; None,) GraphicShapeOpts：原生图形形状配置项 123456789101112131415161718192021class GraphicShapeOpts( # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的横坐标值。 pos_x: Numeric &#x3D; 0, # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的横坐标值。 pos_y: Numeric &#x3D; 0, # 图形元素的宽度。 width: Numeric &#x3D; 0, # 图形元素的高度。 height: Numeric &#x3D; 0, # 可以用于设置圆角矩形。r: [r1, r2, r3, r4]， 左上、右上、右下、左下角的半径依次为r1、r2、r3、r4。 # 可以缩写，例如： # r 缩写为 1 相当于 [1, 1, 1, 1] # r 缩写为 [1] 相当于 [1, 1, 1, 1] # r 缩写为 [1, 2] 相当于 [1, 2, 1, 2] # r 缩写为 [1, 2, 3]1 相当于[1, 2, 3, 2]&#96; r: Union[Sequence, Numeric, None] &#x3D; None,) GraphicImage：原始图形图片配置项 1234567class GraphicImage( # 图形的配置项，参考 GraphicItem graphic_item: Union[GraphicItem, dict, None] &#x3D; None, # 图形图片样式的配置项 graphic_imagestyle_opts: Union[GraphicImageStyleOpts, dict, None] &#x3D; None,) GraphicImageStyleOpts：原始图形图片样式配置项 12345678910111213141516171819202122class GraphicImageStyleOpts( # 图片的内容，可以是图片的 URL。 image: Optional[str] &#x3D; None, # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的横坐标值。 pos_x: Numeric &#x3D; 0, # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的纵坐标值。 pos_y: Numeric &#x3D; 0, # 图形元素的宽度。 width: Numeric &#x3D; 0, # 图形元素的高度。 height: Numeric &#x3D; 0, # 透明度 0 到 1。1 即完整显示 opacity: Numeric &#x3D; 1, # 图形基本配置项，参考 GraphicBasicStyleOpts graphic_basicstyle_opts: Union[GraphicBasicStyleOpts, dict, None] &#x3D; None,) GraphicText：原始图形文本配置项 1234567class GraphText( # 图形的配置项，参考 GraphicItem graphic_item: Union[GraphicItem, dict, None] &#x3D; None, # 图形文本样式的配置项 graphic_textstyle_opts: Union[GraphicTextStyleOpts, dict, None] &#x3D; None,) GraphicTextStyleOpts：原生图形文本样式配置项 123456789101112131415161718192021222324252627282930class GraphicTextStyleOpts( # 文本块文字。可以使用 \\n 来换行。 text: Optional[JSFunc] &#x3D; None, # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的横坐标值。 pos_x: Numeric &#x3D; 0, # 图形元素的左上角在父节点坐标系（以父节点左上角为原点）中的纵坐标值。 pos_y: Numeric &#x3D; 0, # 字体大小、字体类型、粗细、字体样式。 # 例如： # &#x2F;&#x2F; size | family # font: &#39;2em &quot;STHeiti&quot;, sans-serif&#39; # &#x2F;&#x2F; style | weight | size | family # font: &#39;italic bolder 16px cursive&#39; # &#x2F;&#x2F; weight | size | family # font: &#39;bolder 2em &quot;Microsoft YaHei&quot;, sans-serif&#39; font: Optional[str] &#x3D; None, # 水平对齐方式，取值：&#39;left&#39;, &#39;center&#39;, &#39;right&#39;。默认值为：&#39;left&#39; # 如果为 &#39;left&#39;，表示文本最左端在 x 值上。如果为 &#39;right&#39;，表示文本最右端在 x 值上。 text_align: str &#x3D; &quot;left&quot;, # 垂直对齐方式，取值：&#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。默认值为：&#39;None&#39; text_vertical_align: Optional[str] &#x3D; None, # 图形基本配置项，参考 GraphicBasicStyleOpts graphic_basicstyle_opts: Union[GraphicBasicStyleOpts, dict, None] &#x3D; None,) GraphicRect：原生图形矩形配置项 12345678910class GraphicRect( # 图形的配置项，参考 GraphicItem graphic_item: Union[GraphicItem, dict, None] &#x3D; None, # 图形的形状配置项，参考 GraphicShapeOpts graphic_shape_opts: Union[GraphicShapeOpts, dict, None] &#x3D; None, # 图形基本配置项，参考 GraphicBasicStyleOpts graphic_basicstyle_opts: Union[GraphicBasicStyleOpts, dict, None] &#x3D; None,) PolarOpts：极坐标系配置 1234567891011121314class PolarOpts( # 极坐标系的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。 # 支持设置成百分比，设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度。 center: Optional[Sequence] &#x3D; None, # 极坐标系的半径。可以为如下类型： # number：直接指定外半径值。 # string：例如，&#39;20%&#39;，表示外半径为可视区尺寸（容器高宽中较小一项）的 20% 长度。 # Array.&lt;number|string&gt;：数组的第一项是内半径，第二项是外半径。每一项遵从上述 number string 的描述。 radius: Optional[Union[Sequence, str]] &#x3D; None, # 本坐标系特定的 tooltip 设定。参考 &#96;global_options.TooltipOpts&#96; tooltip_opts: TooltipOpts &#x3D; None,) TooltipOpts类,工具提示选项：提示框配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091class TooltipOpts( # 是否显示提示框组件，包括提示框浮层和 axisPointer。 is_show: bool &#x3D; True, # 触发类型。可选： # &#39;item&#39;: 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。 # &#39;axis&#39;: 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。 # &#39;none&#39;: 什么都不触发 trigger: str &#x3D; &quot;item&quot;, # 提示框触发的条件，可选： # &#39;mousemove&#39;: 鼠标移动时触发。 # &#39;click&#39;: 鼠标点击时触发。 # &#39;mousemove|click&#39;: 同时鼠标移动和点击时触发。 # &#39;none&#39;: 不在 &#39;mousemove&#39; 或 &#39;click&#39; 时触发， trigger_on: str &#x3D; &quot;mousemove|click&quot;, # 指示器类型。可选 # &#39;line&#39;：直线指示器 # &#39;shadow&#39;：阴影指示器 # &#39;none&#39;：无指示器 # &#39;cross&#39;：十字准星指示器。其实是种简写，表示启用两个正交的轴的 axisPointer。 axis_pointer_type: str &#x3D; &quot;line&quot;, # 是否显示提示框浮层，默认显示。 # 只需 tooltip 触发事件或显示 axisPointer 而不需要显示内容时可配置该项为 false。 is_show_content: bool &#x3D; True, # 是否永远显示提示框内容， # 默认情况下在移出可触发提示框区域后一定时间后隐藏，设置为 true 可以保证一直显示提示框内容。 is_always_show_content: bool &#x3D; False, # 浮层显示的延迟，单位为 ms，默认没有延迟，也不建议设置。 show_delay: Numeric &#x3D; 0, # 浮层隐藏的延迟，单位为 ms，在 alwaysShowContent 为 true 的时候无效。 hide_delay: Numeric &#x3D; 100, # 提示框浮层的位置，默认不设置时位置会跟随鼠标的位置。 # 1、通过数组配置： # 绝对位置，相对于容器左侧 10px, 上侧 10 px &#x3D;&#x3D;&#x3D;&gt; position: [10, 10] # 相对位置，放置在容器正中间 &#x3D;&#x3D;&#x3D;&gt; position: [&#39;50%&#39;, &#39;50%&#39;] # 2、通过回调函数配置 # 3、固定参数配置：&#39;inside&#39;，&#39;top&#39;，&#39;left&#39;，&#39;right&#39;，&#39;bottom&#39; position: Union[str, Sequence, JSFunc] &#x3D; None, # 标签内容格式器，支持字符串模板和回调函数两种形式，字符串模板与回调函数返回的字符串均支持用 \\n 换行。 # 字符串模板 模板变量有： # &#123;a&#125;：系列名。 # &#123;b&#125;：数据名。 # &#123;c&#125;：数据值。 # &#123;@xxx&#125;：数据中名为 &#39;xxx&#39; 的维度的值，如 &#123;@product&#125; 表示名为 &#39;product&#39;&#96; 的维度的值。 # &#123;@[n]&#125;：数据中维度 n 的值，如&#123;@[3]&#125;&#96; 表示维度 3 的值，从 0 开始计数。 # 示例：formatter: &#39;&#123;b&#125;: &#123;@score&#125;&#39; # # 回调函数，回调函数格式： # (params: Object|Array) &#x3D;&gt; string # 参数 params 是 formatter 需要的单个数据集。格式如下： # &#123; # componentType: &#39;series&#39;, # &#x2F;&#x2F; 系列类型 # seriesType: string, # &#x2F;&#x2F; 系列在传入的 option.series 中的 index # seriesIndex: number, # &#x2F;&#x2F; 系列名称 # seriesName: string, # &#x2F;&#x2F; 数据名，类目名 # name: string, # &#x2F;&#x2F; 数据在传入的 data 数组中的 index # dataIndex: number, # &#x2F;&#x2F; 传入的原始数据项 # data: Object, # &#x2F;&#x2F; 传入的数据值 # value: number|Array, # &#x2F;&#x2F; 数据图形的颜色 # color: string, # &#125; formatter: Optional[str] &#x3D; None, # 提示框浮层的背景颜色。 background_color: Optional[str] &#x3D; None, # 提示框浮层的边框颜色。 border_color: Optional[str] &#x3D; None, # 提示框浮层的边框宽。 border_width: Numeric &#x3D; 0, # 文字样式配置项，参考 &#96;series_options.TextStyleOpts&#96; textstyle_opts: TextStyleOpts &#x3D; TextStyleOpts(font_size&#x3D;14),) BrushOpts：区域选择组件配置项 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115class BrushOpts( # 使用在 toolbox 中的按钮。默认值为 [&quot;rect&quot;, &quot;polygon&quot;, &quot;keep&quot;, &quot;clear&quot;] # brush 相关的 toolbox 按钮有： # &quot;rect&quot;：开启矩形选框选择功能。 # &quot;polygon&quot;：开启任意形状选框选择功能。 # &quot;lineX&quot;：开启横向选择功能。 # &quot;lineY&quot;&#39;：开启纵向选择功能。 # &quot;keep&quot;：切换『单选』和『多选』模式。后者可支持同时画多个选框。前者支持单击清除所有选框。 # &quot;clear&quot;：清空所有选框。 tool_box: Optional[Sequence] &#x3D; None, # 不同系列间，选中的项可以联动。 # brush_link 配置项是一个列表，内容是 seriesIndex，指定了哪些 series 可以被联动。 # 例如可以是： # [3, 4, 5] 表示 seriesIndex 为 3, 4, 5 的 series 可以被联动。 # &quot;all&quot; 表示所有 series 都进行 brushLink。 # None 表示不启用 brush_link 功能。 brush_link: Union[Sequence, str] &#x3D; None, # 指定哪些 series 可以被刷选，可取值为： # &quot;all&quot;: 所有 series # series index 列表, 如 [0, 4, 2]，表示指定这些 index 所对应的坐标系。 # 某个 series index, 如 0，表示这个 index 所对应的坐标系。 series_index: Union[Sequence, Numeric, str] &#x3D; None, # 指定哪些 geo 可以被刷选。可以设置 brush 是全局的还是属于坐标系的。 # 全局 brush # 在 echarts 实例中任意地方刷选。这是默认情况。如果没有指定为坐标系 brush，就是全局 brush。 # 坐标系 brush # 在指定的坐标系中刷选。选框可以跟随坐标系的缩放和平移（ roam 和 dataZoom ）而移动。 # 坐标系 brush 实际更为常用，尤其是在 geo 中。 # 通过指定 brush.geoIndex 或 brush.xAxisIndex 或 brush.yAxisIndex 来规定可以在哪些坐标系中进行刷选。 # 指定哪些 series 可以被刷选，可取值为： # &quot;all&quot;: 表示所有 series # series index 列表, 如 [0, 4, 2]，表示指定这些 index 所对应的坐标系。 # 某个 series index, 如 0，表示这个 index 所对应的坐标系。 geo_index: Union[Sequence, Numeric, str] &#x3D; None, # 指定哪些 xAxisIndex 可以被刷选。可以设置 brush 是全局的还是属于坐标系的。 # 全局 brush # 在 echarts 实例中任意地方刷选。这是默认情况。如果没有指定为坐标系 brush，就是全局 brush。 # 坐标系 brush # 在指定的坐标系中刷选。选框可以跟随坐标系的缩放和平移（ roam 和 dataZoom ）而移动。 # 坐标系 brush 实际更为常用，尤其是在 geo 中。 # 通过指定 brush.geoIndex 或 brush.xAxisIndex 或 brush.yAxisIndex 来规定可以在哪些坐标系中进行刷选。 # 指定哪些 series 可以被刷选，可取值为： # &quot;all&quot;: 表示所有 series # series index 列表, 如 [0, 4, 2]，表示指定这些 index 所对应的坐标系。 # 某个 series index, 如 0，表示这个 index 所对应的坐标系。 x_axis_index: Union[Sequence, Numeric, str] &#x3D; None, # 指定哪些 yAxisIndex 可以被刷选。可以设置 brush 是全局的还是属于坐标系的。 # 全局 brush # 在 echarts 实例中任意地方刷选。这是默认情况。如果没有指定为坐标系 brush，就是全局 brush。 # 坐标系 brush # 在指定的坐标系中刷选。选框可以跟随坐标系的缩放和平移（ roam 和 dataZoom ）而移动。 # 坐标系 brush 实际更为常用，尤其是在 geo 中。 # 通过指定 brush.geoIndex 或 brush.xAxisIndex 或 brush.yAxisIndex 来规定可以在哪些坐标系中进行刷选。 # 指定哪些 series 可以被刷选，可取值为： # &quot;all&quot;: 表示所有 series # series index 列表, 如 [0, 4, 2]，表示指定这些 index 所对应的坐标系。 # 某个 series index, 如 0，表示这个 index 所对应的坐标系。 y_axis_index: Union[Sequence, Numeric, str] &#x3D; None, # 默认的刷子类型。默认值为 rect。 # 可选参数如下： # &quot;rect&quot;：矩形选框。 # &quot;polygon&quot;：任意形状选框。 # &quot;lineX&quot;：横向选择。 # &quot;lineY&quot;：纵向选择。 brush_type: str &#x3D; &quot;rect&quot;, # 默认的刷子的模式。可取值为： # 默认为 single # &quot;single&quot;：单选。 # &quot;multiple&quot;：多选。 brush_mode: str &#x3D; &quot;single&quot;, # 已经选好的选框是否可以被调整形状或平移。默认值为 True transformable: bool &#x3D; True, # 选框的默认样式，值为 # &#123; # &quot;borderWidth&quot;: 1, # &quot;color&quot;: &quot;rgba(120,140,180,0.3)&quot;, # &quot;borderColor&quot;: &quot;rgba(120,140,180,0.8)&quot; # &#125;, brush_style: Optional[dict] &#x3D; None, # 默认情况，刷选或者移动选区的时候，会不断得发 brushSelected 事件，从而告诉外界选中的内容。 # 但是频繁的事件可能导致性能问题，或者动画效果很差。 # 所以 brush 组件提供了 brush.throttleType，brush.throttleDelay 来解决这个问题。 # throttleType 取值可以是： # &quot;debounce&quot;：表示只有停止动作了（即一段时间没有操作了），才会触发事件。时间阈值由 brush.throttleDelay 指定。 # &quot;fixRate&quot;：表示按照一定的频率触发事件，时间间隔由 brush.throttleDelay 指定。 throttle_type: str &#x3D; &quot;fixRate&quot;, # 默认为 0 表示不开启 throttle。 throttle_delay: Numeric &#x3D; 0, # 在 brush_mode 为 &quot;single&quot; 的情况下，是否支持单击清除所有选框。 remove_on_click: bool &#x3D; True, # 定义在选中范围外的视觉元素。最终参数以字典的形式进行配置 # 可选的视觉元素有： # symbol: 图元的图形类别。 # symbolSize: 图元的大小。 # color: 图元的颜色。 # colorAlpha: 图元的颜色的透明度。 # opacity: 图元以及其附属物（如文字标签）的透明度。 # colorLightness: 颜色的明暗度，参见 https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HSL_and_HSV。 # colorSaturation: 颜色的饱和度，参见 https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HSL_and_HSV。 # colorHue: 颜色的色调，参见 https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HSL_and_HSV。 out_of_brush: dict &#x3D; None,) DataZoomOpts：区域缩放配置项 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071class DataZoomOpts( # 是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。 is_show: bool &#x3D; True, # 组件类型，可选 &quot;slider&quot;, &quot;inside&quot; type_: str &#x3D; &quot;slider&quot;, # 拖动时，是否实时更新系列的视图。如果设置为 false，则只在拖拽结束的时候更新。 is_realtime: bool &#x3D; True, # 数据窗口范围的起始百分比。范围是：0 ~ 100。表示 0% ~ 100%。 range_start: Union[Numeric, None] &#x3D; 20, # 数据窗口范围的结束百分比。范围是：0 ~ 100 range_end: Union[Numeric, None] &#x3D; 80, # 数据窗口范围的起始数值。如果设置了 start 则 startValue 失效。 start_value: Union[int, str, None] &#x3D; None, # 数据窗口范围的结束数值。如果设置了 end 则 endValue 失效。 end_value: Union[int, str, None] &#x3D; None, # 布局方式是横还是竖。不仅是布局方式，对于直角坐标系而言，也决定了，缺省情况控制横向数轴还是纵向数轴 # 可选值为：&#39;horizontal&#39;, &#39;vertical&#39; orient: str &#x3D; &quot;horizontal&quot;, # 设置 dataZoom-inside 组件控制的 x 轴（即 xAxis，是直角坐标系中的概念，参见 grid）。 # 不指定时，当 dataZoom-inside.orient 为 &#39;horizontal&#39;时，默认控制和 dataZoom 平行的第一个 xAxis # 如果是 number 表示控制一个轴，如果是 Array 表示控制多个轴。 xaxis_index: Union[int, Sequence[int], None] &#x3D; None, # 设置 dataZoom-inside 组件控制的 y 轴（即 yAxis，是直角坐标系中的概念，参见 grid）。 # 不指定时，当 dataZoom-inside.orient 为 &#39;horizontal&#39;时，默认控制和 dataZoom 平行的第一个 yAxis # 如果是 number 表示控制一个轴，如果是 Array 表示控制多个轴。 yaxis_index: Union[int, Sequence[int], None] &#x3D; None, # 是否锁定选择区域（或叫做数据窗口）的大小。 # 如果设置为 true 则锁定选择区域的大小，也就是说，只能平移，不能缩放。 is_zoom_lock: bool &#x3D; False, # dataZoom-slider 组件离容器左侧的距离。 # left 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;。 # 如果 left 的值为 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;，组件会根据相应的位置自动对齐。 pos_left: Optional[str] &#x3D; None, # dataZoom-slider 组件离容器上侧的距离。 # top 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。 # 如果 top 的值为 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;，组件会根据相应的位置自动对齐。 pos_top: Optional[str] &#x3D; None, # dataZoom-slider 组件离容器右侧的距离。 # right 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 # 默认自适应。 pos_right: Optional[str] &#x3D; None, # dataZoom-slider组件离容器下侧的距离。 # bottom 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 # 默认自适应。 pos_bottom: Optional[str] &#x3D; None, # dataZoom 的运行原理是通过数据过滤以及在内部设置轴的显示窗口来达到数据窗口缩放的效果。 # &#39;filter&#39;：当前数据窗口外的数据，被过滤掉。即会影响其他轴的数据范围。 # 每个数据项，只要有一个维度在数据窗口外，整个数据项就会被过滤掉。 # &#39;weakFilter&#39;：当前数据窗口外的数据，被过滤掉。即会影响其他轴的数据范围。 # 每个数据项，只有当全部维度都在数据窗口同侧外部，整个数据项才会被过滤掉。 # &#39;empty&#39;：当前数据窗口外的数据，被设置为空。即不会影响其他轴的数据范围。 # &#39;none&#39;: 不过滤数据，只改变数轴范围。 filter_mode: str &#x3D; &quot;filter&quot;) ToolBox 工具箱 ToolBoxFeatureSaveAsImagesOpts：工具箱保存图片配置项 12345678910111213141516171819202122232425262728class ToolBoxFeatureSaveAsImageOpts( # 保存的图片格式。支持 &#39;png&#39; 和 &#39;jpeg&#39;。 type_: str &#x3D; &quot;png&quot;, # 保存的文件名称，默认使用 title.text 作为名称。 name: Optional[str] &#x3D; None, # 保存的图片背景色，默认使用 backgroundColor，如果backgroundColor不存在的话会取白色。 background_color: str &#x3D; &quot;auto&quot;, # 如果图表使用了 echarts.connect 对多个图表进行联动，则在导出图片时会导出这些联动的图表。该配置项决定了图表与图表之间间隙处的填充色。 connected_background_color: str &#x3D; &quot;#fff&quot;, # 保存为图片时忽略的组件列表，默认忽略工具栏。 exclude_components: Optional[Sequence[str]] &#x3D; None, # 是否显示该工具。 is_show: bool &#x3D; True, # 提示语 title: str &#x3D; &quot;保存为图片&quot;, # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 icon: Optional[JSFunc] &#x3D; None, # 保存图片的分辨率比例，默认跟容器相同大小，如果需要保存更高分辨率的，可以设置为大于 1 的值，例如 2。 pixel_ratio: Numeric &#x3D; 1,): ToolBoxFeatureRestoreOpts：工具箱还原配置项 12345678910class ToolBoxFeatureRestoreOpts( # 是否显示该工具。 is_show: bool &#x3D; True, # 提示语 title: str &#x3D; &quot;还原&quot;, # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 icon: Optional[JSFunc] &#x3D; None): ToolBoxFeatureDataViewOpts：工具箱数据视图工具 12345678910111213141516171819202122232425262728293031323334353637383940class ToolBoxFeatureDataViewOpts( # 是否显示该工具。 is_show: bool &#x3D; True, # 提示语 title: str &#x3D; &quot;还原&quot;, # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 icon: Optional[JSFunc] &#x3D; None # 是否不可编辑（只读）。默认为 False is_read_only: bool &#x3D; False, # 自定义 dataView 展现函数，用以取代默认的 textarea 使用更丰富的数据编辑。可以返回 dom 对象或者 html 字符串。 option_to_content: Optional[JSFunc] &#x3D; None, # 在使用 optionToContent 的情况下，如果支持数据编辑后的刷新，需要自行通过该函数实现组装 option 的逻辑。 content_to_option: Optional[JSFunc] &#x3D; None, # 数据视图上有三个话术，默认是[&#39;数据视图&#39;, &#39;关闭&#39;, &#39;刷新&#39;]。 lang: Optional[Sequence[str]] &#x3D; None, # 数据视图浮层背景色。 background_color: str &#x3D; &quot;#fff&quot;, # 数据视图浮层文本输入区背景色。 text_area_color: str &#x3D; &quot;#fff&quot;, # 数据视图浮层文本输入区边框颜色。 text_area_border_color: str &#x3D; &quot;#333&quot;, # 文本颜色。 text_color: str &#x3D; &quot;#000&quot;, # 按钮颜色。 button_color: str &#x3D; &quot;#c23531&quot;, # 按钮文本颜色。 button_text_color: str &#x3D; &quot;#fff&quot;,): ToolBoxFeatureDataZoomOpts：工具箱区域缩放配置项 1234567891011121314151617181920212223242526272829303132333435class ToolBoxFeatureDataZoomOpts( # 是否显示该工具。 is_show: bool &#x3D; True, # 提示语 zoom_title: str &#x3D; &quot;区域缩放&quot;, # 提示语 back_title: str &#x3D; &quot;区域缩放还原&quot;, # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 zoom_icon: Optional[JSFunc] &#x3D; None, # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 back_icon: Optional[JSFunc] &#x3D; None, # 指定哪些 xAxis 被控制。如果缺省则控制所有的 x 轴。 # 如果设置为 false 则不控制任何x轴。如果设置成 3 则控制 axisIndex 为 3 的 x 轴。 # 如果设置为 [0, 3] 则控制 axisIndex 为 0 和 3 的 x 轴。 xaxis_index: Union[Numeric, Sequence, bool] &#x3D; None, # 指定哪些 yAxis 被控制。如果缺省则控制所有的 y 轴。 # 如果设置为 false 则不控制任何y轴。如果设置成 3 则控制 axisIndex 为 3 的 y 轴。 # 如果设置为 [0, 3] 则控制 axisIndex 为 0 和 3 的 y 轴。 yaxis_index: Union[Numeric, Sequence, bool] &#x3D; None, # dataZoom 的运行原理是通过数据过滤以及在内部设置轴的显示窗口来达到数据窗口缩放的效果。 # &#39;filter&#39;：当前数据窗口外的数据，被过滤掉。即会影响其他轴的数据范围。 # 每个数据项，只要有一个维度在数据窗口外，整个数据项就会被过滤掉。 # &#39;weakFilter&#39;：当前数据窗口外的数据，被过滤掉。即会影响其他轴的数据范围。 # 每个数据项，只有当全部维度都在数据窗口同侧外部，整个数据项才会被过滤掉。 # &#39;empty&#39;：当前数据窗口外的数据，被设置为空。即不会影响其他轴的数据范围。 # &#39;none&#39;: 不过滤数据，只改变数轴范围。 filter_mode: str &#x3D; &quot;filter&quot;,): ToolBoxFeatureMagicTypeOpts：工具箱动态类型切换配置项 123456789101112131415161718192021222324252627282930313233class ToolBoxFeatureMagicTypeOpts( # 是否显示该工具。 is_show: bool &#x3D; True, # 启用的动态类型 # 包括&#39;line&#39;（切换为折线图）, &#39;bar&#39;（切换为柱状图）, # &#39;stack&#39;（切换为堆叠模式）, &#39;tiled&#39;（切换为平铺模式）。 type_: Optional[Sequence] &#x3D; None, # 各个类型的标题文本，可以分别配置。 line_title: str &#x3D; &quot;切换为折线图&quot;, # 各个类型的标题文本，可以分别配置。 bar_title: str &#x3D; &quot;切换为柱状图&quot;, # 各个类型的标题文本，可以分别配置。 stack_title: str &#x3D; &quot;切换为堆叠&quot;, # 各个类型的标题文本，可以分别配置。 tiled_title: str &#x3D; &quot;切换为平铺&quot;, # 各个类型的 icon path，可以分别配置。 line_icon: Optional[JSFunc] &#x3D; None, # 各个类型的 icon path，可以分别配置。 bar_icon: Optional[JSFunc] &#x3D; None, # 各个类型的 icon path，可以分别配置。 stack_icon: Optional[JSFunc] &#x3D; None, # 各个类型的 icon path，可以分别配置。 tiled_icon: Optional[JSFunc] &#x3D; None,): ToolBoxFeatureBrushOpts：工具箱选框组件配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546class ToolBoxFeatureBrushOpts( # 使用的按钮，取值： # &#39;rect&#39;：开启矩形选框选择功能。 # &#39;polygon&#39;：开启任意形状选框选择功能。 # &#39;lineX&#39;：开启横向选择功能。 # &#39;lineY&#39;：开启纵向选择功能。 # &#39;keep&#39;：切换『单选』和『多选』模式。后者可支持同时画多个选框。前者支持单击清除所有选框。 # &#39;clear&#39;：清空所有选框。 type_: Optional[str] &#x3D; None, # 每个按钮的 icon path。 rect_icon: Optional[JSFunc] &#x3D; None, # 每个按钮的 icon path。 polygon_icon: Optional[JSFunc] &#x3D; None, # 每个按钮的 icon path。 line_x_icon: Optional[JSFunc] &#x3D; None, # 每个按钮的 icon path。 line_y_icon: Optional[JSFunc] &#x3D; None, # 每个按钮的 icon path。 keep_icon: Optional[JSFunc] &#x3D; None, # 每个按钮的 icon path。 clear_icon: Optional[JSFunc] &#x3D; None, # 标题文本。 rect_title: str &#x3D; &quot;矩形选择&quot;, # 标题文本。 polygon_title: str &#x3D; &quot;圈选&quot;, # 标题文本。 line_x_title: str &#x3D; &quot;横向选择&quot;, # 标题文本。 line_y_title: str &#x3D; &quot;纵向选择&quot;, # 标题文本。 keep_title: str &#x3D; &quot;保持选择&quot;, # 标题文本。 clear_title: str &#x3D; &quot;清除选择&quot;,): ToolBoxFeatureOpts：工具箱工具配置项 12345678910111213141516171819class ToolBoxFeatureOpts( # 保存为图片 save_as_image: Union[ToolBoxFeatureSaveAsImageOpts, dict] &#x3D; ToolBoxFeatureSaveAsImageOpts(), # 配置项还原 restore: Union[ToolBoxFeatureRestoreOpts, dict] &#x3D; ToolBoxFeatureRestoreOpts(), # 数据视图工具，可以展现当前图表所用的数据，编辑后可以动态更新 data_view: Union[ToolBoxFeatureDataViewOpts, dict] &#x3D; ToolBoxFeatureDataViewOpts(), # 数据区域缩放。（目前只支持直角坐标系的缩放） data_zoom: Union[ToolBoxFeatureDataZoomOpts, dict] &#x3D; ToolBoxFeatureDataZoomOpts(), # 动态类型切换。 magic_type: Union[ToolBoxFeatureMagicTypeOpts, dict] &#x3D; ToolBoxFeatureMagicTypeOpts(), # 选框组件的控制按钮。 brush: Union[ToolBoxFeatureBrushOpts, dict] &#x3D; ToolBoxFeatureBrushOpts(),): 工具箱选择：工具箱配置项 12345678910111213141516171819202122232425262728293031class ToolboxOpts( # 是否显示工具栏组件 is_show: bool &#x3D; True, # 工具栏 icon 的布局朝向。 # 可选：&#39;horizontal&#39;, &#39;vertical&#39; orient: str &#x3D; &quot;horizontal&quot;, # 工具栏组件离容器左侧的距离。 # left 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;left&#39;, &#39;center&#39;, &#39;right&#39;。 # 如果 left 的值为&#39;left&#39;, &#39;center&#39;, &#39;right&#39;，组件会根据相应的位置自动对齐 pos_left: str &#x3D; &quot;80%&quot;, # 工具栏组件离容器右侧的距离。 # right 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_right: Optional[str] &#x3D; None, # 工具栏组件离容器上侧的距离。 # top 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比， # 也可以是 &#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;。 # 如果 top 的值为&#39;top&#39;, &#39;middle&#39;, &#39;bottom&#39;，组件会根据相应的位置自动对齐。 pos_top: Optional[str] &#x3D; None, # 工具栏组件离容器下侧的距离。 # bottom 的值可以是像 20 这样的具体像素值，可以是像 &#39;20%&#39; 这样相对于容器高宽的百分比。 pos_bottom: Optional[str] &#x3D; None, # 各工具配置项，参考 &#96;global_options.ToolBoxFeatureOpts&#96; feature: Union[ToolBoxFeatureOpts, dict] &#x3D; ToolBoxFeatureOpts(),):","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pyecharts_Bar","slug":"pyecharts_Bar","date":"2020-07-30T12:12:54.000Z","updated":"2020-07-31T13:51:46.671Z","comments":true,"path":"2020/07/30/pyecharts-bar/","link":"","permalink":"http://yoursite.com/2020/07/30/pyecharts-bar/","excerpt":"","text":"pyecharts_Bar全部来自于官方文档，主要用于方便自己查找 Bar: 柱状图/条形图123456789101112131415161718Bar(init_opts&#x3D;opts.InitOpts()).add_xaxis(x_data).add_yaxis(y_data) # 系列配置项.set_series_opts() # 全局配置项.set_global_opts( title_opts&#x3D;opts.TitleOpts(title&#x3D;&quot;标题&quot;), # 工具箱选择项 toolbox_opts&#x3D;opts.ToolboxOpts(), # 图例配置项 legend_opts&#x3D;opts.legendOpts(is_show&#x3D;False), # 坐标轴配置项 yaxis_opts&#x3D;opts.AxisOpts(type_&#x3D;&quot;value&quot;), # 原生图形元素组件 opts.GraphicGroup(graphic_item&#x3D;opts.GraphicItem()) ) .render() .add_yaxis() 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104def add_yaxis( # 系列名称，用于 tooltip 的显示，legend 的图例筛选。 series_name: str, # 系列数据 y_axis: Sequence[Numeric, opts.BarItem, dict], # 是否选中图例 is_selected: bool &#x3D; True, # 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。 xaxis_index: Optional[Numeric] &#x3D; None, # 使用的 y 轴的 index，在单个图表实例中存在多个 y 轴的时候有用。 yaxis_index: Optional[Numeric] &#x3D; None, # 是否启用图例 hover 时的联动高亮 is_legend_hover_link: bool &#x3D; True, # 系列 label 颜色 color: Optional[str] &#x3D; None, # 是否显示柱条的背景色。通过 backgroundStyle 配置背景样式。 is_show_background: bool &#x3D; False, # 每一个柱条的背景样式。需要将 showBackground 设置为 true 时才有效。 background_style: types.Union[types.BarBackground, dict, None] &#x3D; None, # 数据堆叠，同个类目轴上系列配置相同的 stack 值可以堆叠放置。 stack: Optional[str] &#x3D; None, # 柱条的宽度，不设时自适应。 # 可以是绝对值例如 40 或者百分数例如 &#39;60%&#39;。百分数基于自动计算出的每一类目的宽度。 # 在同一坐标系上，此属性会被多个 &#39;bar&#39; 系列共享。此属性应设置于此坐标系中最后一个 &#39;bar&#39; 系列上才会生效，并且是对此坐标系中所有 &#39;bar&#39; 系列生效。 bar_width: types.Union[types.Numeric, str] &#x3D; None, # 柱条的最大宽度。比 barWidth 优先级高。 bar_max_width: types.Union[types.Numeric, str] &#x3D; None, # 柱条的最小宽度。在直角坐标系中，默认值是 1。否则默认值是 null。比 barWidth 优先级高。 bar_min_width: types.Union[types.Numeric, str] &#x3D; None, # 柱条最小高度，可用于防止某数据项的值过小而影响交互。 bar_min_height: types.Numeric &#x3D; 0, # 同一系列的柱间距离，默认为类目间距的 20%，可设固定值 category_gap: Union[Numeric, str] &#x3D; &quot;20%&quot;, # 不同系列的柱间距离，为百分比（如 &#39;30%&#39;，表示柱子宽度的 30%）。 # 如果想要两个系列的柱子重叠，可以设置 gap 为 &#39;-100%&#39;。这在用柱子做背景的时候有用。 gap: Optional[str] &#x3D; &quot;30%&quot;, # 是否开启大数据量优化，在数据图形特别多而出现卡顿时候可以开启。 # 开启后配合 largeThreshold 在数据量大于指定阈值的时候对绘制进行优化。 # 缺点：优化后不能自定义设置单个数据项的样式。 is_large: bool &#x3D; False, # 开启绘制优化的阈值。 large_threshold: types.Numeric &#x3D; 400, # 使用 dimensions 定义 series.data 或者 dataset.source 的每个维度的信息。 # 注意：如果使用了 dataset，那么可以在 dataset.source 的第一行&#x2F;列中给出 dimension 名称。 # 于是就不用在这里指定 dimension。 # 但是，如果在这里指定了 dimensions，那么 ECharts 不再会自动从 dataset.source 的第一行&#x2F;列中获取维度信息。 dimensions: types.Union[types.Sequence, None] &#x3D; None, # 当使用 dataset 时，seriesLayoutBy 指定了 dataset 中用行还是列对应到系列上，也就是说，系列“排布”到 dataset 的行还是列上。可取值： # &#39;column&#39;：默认，dataset 的列对应于系列，从而 dataset 中每一列是一个维度（dimension）。 # &#39;row&#39;：dataset 的行对应于系列，从而 dataset 中每一行是一个维度（dimension）。 series_layout_by: str &#x3D; &quot;column&quot;, # 如果 series.data 没有指定，并且 dataset 存在，那么就会使用 dataset。 # datasetIndex 指定本系列使用那个 dataset。 dataset_index: types.Numeric &#x3D; 0, # 是否裁剪超出坐标系部分的图形。柱状图：裁掉所有超出坐标系的部分，但是依然保留柱子的宽度 is_clip: bool &#x3D; True, # 柱状图所有图形的 zlevel 值。 z_level: types.Numeric &#x3D; 0, # 柱状图组件的所有图形的z值。控制图形的前后顺序。 # z值小的图形会被z值大的图形覆盖。 # z相比zlevel优先级更低，而且不会创建新的 Canvas。 z: types.Numeric &#x3D; 2, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[opts.LabelOpts, dict] &#x3D; opts.LabelOpts(), # 标记点配置项，参考 &#96;series_options.MarkPointOpts&#96; markpoint_opts: Union[opts.MarkPointOpts, dict, None] &#x3D; None, # 标记线配置项，参考 &#96;series_options.MarkLineOpts&#96; markline_opts: Union[opts.MarkLineOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[opts.TooltipOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[opts.ItemStyleOpts, dict, None] &#x3D; None, # 可以定义 data 的哪个维度被编码成什么。 encode: types.Union[types.JSFunc, dict, None] &#x3D; None,) BarItem：柱状图数据项 12345678910111213141516class BarItem( # 数据项名称。 name: Optional[str] &#x3D; None, # 单个数据项的数值。 value: Optional[Numeric] &#x3D; None, # 单个柱条文本的样式设置，参考 &#96;series_options.LabelOpts&#96;。 label_opts: Union[LabelOpts, dict, None] &#x3D; None, # 图元样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None, # 提示框组件配置项，参考 &#96;series_options.TooltipOpts&#96; tooltip_opts: Union[TooltipOpts, dict, None] &#x3D; None, ) BarBackgroundStyleOpts：柱状图背景样式配置 12345678910111213141516171819202122232425262728293031323334class BarBackgroundStyleOpts( # 柱条的颜色。 color: str &#x3D; &quot;rgba(180, 180, 180, 0.2)&quot;, # 柱条的描边颜色。 border_color: str &#x3D; &quot;#000&quot;, # 柱条的描边宽度，默认不描边。 border_width: Numeric &#x3D; 0, # 柱条的描边类型，默认为实线，支持 &#39;dashed&#39;, &#39;dotted&#39;。 border_type: str &#x3D; &quot;solid&quot;, # 圆角半径，单位px，支持传入数组分别指定 4 个圆角半径。 如: # barBorderRadius: 5, &#x2F;&#x2F; 统一设置四个角的圆角大小 # barBorderRadius: [5, 5, 0, 0] &#x2F;&#x2F;（顺时针左上，右上，右下，左下） bar_border_radius: Union[Numeric, Sequence] &#x3D; 0, # 图形阴影的模糊大小。 # 该属性配合 shadowColor,shadowOffsetX, shadowOffsetY 一起设置图形的阴影效果。 shadow_blur: Optional[Numeric] &#x3D; None, # 阴影颜色。支持的格式同color。 shadow_color: Optional[str] &#x3D; None, # 阴影水平方向上的偏移距离。 shadow_offset_x: Numeric &#x3D; 0, # 阴影垂直方向上的偏移距离。 shadow_offset_y: Numeric &#x3D; 0, # 图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。 opacity: Optional[Numeric] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"pyecharts_series_options","slug":"pyecharts_series_options","date":"2020-07-30T12:12:54.000Z","updated":"2020-07-31T13:52:41.093Z","comments":true,"path":"2020/07/30/pyecharts-series-options/","link":"","permalink":"http://yoursite.com/2020/07/30/pyecharts-series-options/","excerpt":"","text":"pyecharts 配置项全部来自于官方文档，主要用于方便自己查找系列配置项 (按常用顺序排序) ItemStyleOpts：图元样式配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364class ItemStyleOpts( # 图形的颜色。 # 颜色可以使用 RGB 表示，比如 &#39;rgb(128, 128, 128)&#39;，如果想要加上 alpha 通道表示不透明度， # 可以使用 RGBA，比如 &#39;rgba(128, 128, 128, 0.5)&#39;，也可以使用十六进制格式，比如 &#39;#ccc&#39;。 # 除了纯色之外颜色也支持渐变色和纹理填充 # # 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，相当于在图形包围盒中的百分比， # 如果 globalCoord 为 &#96;true&#96;，则该四个值是绝对的像素位置 # color: &#123; # type: &#39;linear&#39;, # x: 0, # y: 0, # x2: 0, # y2: 1, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 径向渐变，前三个参数分别是圆心 x, y 和半径，取值同线性渐变 # color: &#123; # type: &#39;radial&#39;, # x: 0.5, # y: 0.5, # r: 0.5, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 纹理填充 # color: &#123; # image: imageDom, &#x2F;&#x2F; 支持为 HTMLImageElement, HTMLCanvasElement，不支持路径字符串 # repeat: &#39;repeat&#39; &#x2F;&#x2F; 是否平铺, 可以是 &#39;repeat-x&#39;, &#39;repeat-y&#39;, &#39;no-repeat&#39; # &#125; color: Optional[str] &#x3D; None, # 阴线 图形的颜色。 color0: Optional[str] &#x3D; None, # 图形的描边颜色。支持的颜色格式同 color，不支持回调函数。 border_color: Optional[str] &#x3D; None, # 阴线 图形的描边颜色。 border_color0: Optional[str] &#x3D; None, # 描边宽度，默认不描边。 border_width: Optional[Numeric] &#x3D; None, # 支持 &#39;dashed&#39;, &#39;dotted&#39;。 border_type: Optional[str] &#x3D; None, # 图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。 opacity: Optional[Numeric] &#x3D; None, # 区域的颜色。 area_color: Optional[str] &#x3D; None, ) TextStyleOpts：文字样式配置项 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162class TextStyleOpts( # 文字颜色。 color: Optional[str] &#x3D; None, # 文字字体的风格 # 可选：&#39;normal&#39;，&#39;italic&#39;，&#39;oblique&#39; font_style: Optional[str] &#x3D; None, # 主标题文字字体的粗细，可选： # &#39;normal&#39;，&#39;bold&#39;，&#39;bolder&#39;，&#39;lighter&#39; font_weight: Optional[str] &#x3D; None, # 文字的字体系列 # 还可以是 &#39;serif&#39; , &#39;monospace&#39;, &#39;Arial&#39;, &#39;Courier New&#39;, &#39;Microsoft YaHei&#39;, ... font_family: Optional[str] &#x3D; None, # 文字的字体大小 font_size: Optional[Numeric] &#x3D; None, # 文字水平对齐方式，默认自动 align: Optional[str] &#x3D; None, # 文字垂直对齐方式，默认自动 vertical_align: Optional[str] &#x3D; None, # 行高 line_height: Optional[str] &#x3D; None, # 文字块背景色。可以是直接的颜色值，例如：&#39;#123234&#39;, &#39;red&#39;, &#39;rgba(0,23,11,0.3)&#39; background_color: Optional[str] &#x3D; None, # 文字块边框颜色 border_color: Optional[str] &#x3D; None, # 文字块边框宽度 border_width: Optional[Numeric] &#x3D; None, # 文字块的圆角 border_radius: Union[Numeric, Sequence, None] &#x3D; None, # 文字块的内边距 # 例如 padding: [3, 4, 5, 6]：表示 [上, 右, 下, 左] 的边距 # 例如 padding: 4：表示 padding: [4, 4, 4, 4] # 例如 padding: [3, 4]：表示 padding: [3, 4, 3, 4] padding: Union[Numeric, Sequence, None] &#x3D; None, # 文字块的背景阴影颜色 shadow_color: Optional[str] &#x3D; None, # 文字块的背景阴影长度 shadow_blur: Optional[Numeric] &#x3D; None, # 文字块的宽度 width: Optional[str] &#x3D; None, # 文字块的高度 height: Optional[str] &#x3D; None, # 在 rich 里面，可以自定义富文本样式。利用富文本样式，可以在标签中做出非常丰富的效果 # 具体配置可以参考一下 https:&#x2F;&#x2F;www.echartsjs.com&#x2F;tutorial.html#%E5%AF%8C%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE rich: Optional[dict] &#x3D; None, ) LabelOpts：标签配置项 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394class LabelOpts( # 是否显示标签。 is_show: bool &#x3D; True, # 标签的位置。可选 # &#39;top&#39;，&#39;left&#39;，&#39;right&#39;，&#39;bottom&#39;，&#39;inside&#39;，&#39;insideLeft&#39;，&#39;insideRight&#39; # &#39;insideTop&#39;，&#39;insideBottom&#39;， &#39;insideTopLeft&#39;，&#39;insideBottomLeft&#39; # &#39;insideTopRight&#39;，&#39;insideBottomRight&#39; position: Union[str, Sequence] &#x3D; &quot;top&quot;, # 文字的颜色。 # 如果设置为 &#39;auto&#39;，则为视觉映射得到的颜色，如系列色。 color: Optional[str] &#x3D; None, # 距离图形元素的距离。当 position 为字符描述值（如 &#39;top&#39;、&#39;insideRight&#39;）时候有效。 distance: Union[Numeric, Sequence, None] &#x3D; None, # 文字的字体大小 font_size: Numeric &#x3D; 12, # 文字字体的风格，可选： # &#39;normal&#39;，&#39;italic&#39;，&#39;oblique&#39; font_style: Optional[str] &#x3D; None, # 文字字体的粗细，可选： # &#39;normal&#39;，&#39;bold&#39;，&#39;bolder&#39;，&#39;lighter&#39; font_weight: Optional[str] &#x3D; None, # 文字的字体系列 # 还可以是 &#39;serif&#39; , &#39;monospace&#39;, &#39;Arial&#39;, &#39;Courier New&#39;, &#39;Microsoft YaHei&#39;, ... font_family: Optional[str] &#x3D; None, # 标签旋转。从 -90 度到 90 度。正值是逆时针。 rotate: Optional[Numeric] &#x3D; None, # 刻度标签与轴线之间的距离。 margin: Optional[Numeric] &#x3D; 8, # 坐标轴刻度标签的显示间隔，在类目轴中有效。 # 默认会采用标签不重叠的策略间隔显示标签。 # 可以设置成 0 强制显示所有标签。 # 如果设置为 1，表示『隔一个标签显示一个标签』，如果值为 2，表示隔两个标签显示一个标签，以此类推。 # 可以用数值表示间隔的数据，也可以通过回调函数控制。回调函数格式如下： # (index:number, value: string) &#x3D;&gt; boolean # 第一个参数是类目的 index，第二个值是类目名称，如果跳过则返回 false。 interval: Union[Numeric, str, None]&#x3D; None, # 文字水平对齐方式，默认自动。可选： # &#39;left&#39;，&#39;center&#39;，&#39;right&#39; horizontal_align: Optional[str] &#x3D; None, # 文字垂直对齐方式，默认自动。可选： # &#39;top&#39;，&#39;middle&#39;，&#39;bottom&#39; vertical_align: Optional[str] &#x3D; None, # 标签内容格式器，支持字符串模板和回调函数两种形式，字符串模板与回调函数返回的字符串均支持用 \\n 换行。 # 模板变量有 &#123;a&#125;, &#123;b&#125;，&#123;c&#125;，&#123;d&#125;，&#123;e&#125;，分别表示系列名，数据名，数据值等。 # 在 trigger 为 &#39;axis&#39; 的时候，会有多个系列的数据，此时可以通过 &#123;a0&#125;, &#123;a1&#125;, &#123;a2&#125; 这种后面加索引的方式表示系列的索引。 # 不同图表类型下的 &#123;a&#125;，&#123;b&#125;，&#123;c&#125;，&#123;d&#125; 含义不一样。 其中变量&#123;a&#125;, &#123;b&#125;, &#123;c&#125;, &#123;d&#125;在不同图表类型下代表数据含义为： # 折线（区域）图、柱状（条形）图、K线图 : &#123;a&#125;（系列名称），&#123;b&#125;（类目值），&#123;c&#125;（数值）, &#123;d&#125;（无） # 散点图（气泡）图 : &#123;a&#125;（系列名称），&#123;b&#125;（数据名称），&#123;c&#125;（数值数组）, &#123;d&#125;（无） # 地图 : &#123;a&#125;（系列名称），&#123;b&#125;（区域名称），&#123;c&#125;（合并数值）, &#123;d&#125;（无） # 饼图、仪表盘、漏斗图: &#123;a&#125;（系列名称），&#123;b&#125;（数据项名称），&#123;c&#125;（数值）, &#123;d&#125;（百分比） # 示例：formatter: &#39;&#123;b&#125;: &#123;@score&#125;&#39; # # 回调函数，回调函数格式： # (params: Object|Array) &#x3D;&gt; string # 参数 params 是 formatter 需要的单个数据集。格式如下： # &#123; # componentType: &#39;series&#39;, # &#x2F;&#x2F; 系列类型 # seriesType: string, # &#x2F;&#x2F; 系列在传入的 option.series 中的 index # seriesIndex: number, # &#x2F;&#x2F; 系列名称 # seriesName: string, # &#x2F;&#x2F; 数据名，类目名 # name: string, # &#x2F;&#x2F; 数据在传入的 data 数组中的 index # dataIndex: number, # &#x2F;&#x2F; 传入的原始数据项 # data: Object, # &#x2F;&#x2F; 传入的数据值 # value: number|Array, # &#x2F;&#x2F; 数据图形的颜色 # color: string, # &#125; formatter: Optional[str] &#x3D; None, # 在 rich 里面，可以自定义富文本样式。利用富文本样式，可以在标签中做出非常丰富的效果 # 具体配置可以参考一下 https:&#x2F;&#x2F;www.echartsjs.com&#x2F;tutorial.html#%E5%AF%8C%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE rich: Optional[dict] &#x3D; None,) LineStyleOpts：线样式配置项 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859class LineStyleOpts( # 是否显示 is_show: bool &#x3D; True, # 线宽。 width: Numeric &#x3D; 1, # 图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。 opacity: Numeric &#x3D; 1, # 线的弯曲度，0 表示完全不弯曲 curve: Numeric &#x3D; 0, # 线的类型。可选： # &#39;solid&#39;, &#39;dashed&#39;, &#39;dotted&#39; type_: str &#x3D; &quot;solid&quot;, # 线的颜色。 # 颜色可以使用 RGB 表示，比如 &#39;rgb(128, 128, 128)&#39;，如果想要加上 alpha 通道表示不透明度， # 可以使用 RGBA，比如 &#39;rgba(128, 128, 128, 0.5)&#39;，也可以使用十六进制格式，比如 &#39;#ccc&#39;。 # 除了纯色之外颜色也支持渐变色和纹理填充 # # 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，相当于在图形包围盒中的百分比， # 如果 globalCoord 为 &#96;true&#96;，则该四个值是绝对的像素位置 # color: &#123; # type: &#39;linear&#39;, # x: 0, # y: 0, # x2: 0, # y2: 1, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 径向渐变，前三个参数分别是圆心 x, y 和半径，取值同线性渐变 # color: &#123; # type: &#39;radial&#39;, # x: 0.5, # y: 0.5, # r: 0.5, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 纹理填充 # color: &#123; # image: imageDom, &#x2F;&#x2F; 支持为 HTMLImageElement, HTMLCanvasElement，不支持路径字符串 # repeat: &#39;repeat&#39; &#x2F;&#x2F; 是否平铺, 可以是 &#39;repeat-x&#39;, &#39;repeat-y&#39;, &#39;no-repeat&#39; # &#125; color: Union[str, Sequence, None] &#x3D; None,) Lines3DEffectOpts：3D线样式配置项 1234567891011121314151617181920212223class Line3DEffectOpts( # 是否显示尾迹特效，默认不显示。 is_show: bool &#x3D; True, # 尾迹特效的周期。 period: Numeric &#x3D; 4, # 轨迹特效的移动动画是否是固定速度，单位按三维空间的尺寸 # 设置为非 null 的值后会忽略 period 配置项。 constant_speed: Optional[Numeric] &#x3D; None, # 尾迹的宽度。 trail_width: Numeric &#x3D; 4, # 尾迹的长度，范围从 0 到 1，为线条长度的百分比。 trail_length: Numeric &#x3D; 0.1, # 尾迹的颜色，默认跟线条颜色相同。 trail_color: Optional[str] &#x3D; None, # 尾迹的不透明度，默认跟线条不透明度相同。 trail_opacity: Optional[Numeric] &#x3D; None,) SplitLineOpts：分割线配置项 1234567class SplitLineOpts( # 是否显示分割线 is_show: bool &#x3D; False, # 线风格配置项，参考 &#96;series_options.SplitLineOpts&#96; linestyle_opts: LineStyleOpts &#x3D; LineStyleOpts()) MarkPointItem：标记点数据项 123456789101112131415161718192021222324252627282930313233343536373839404142434445class MarkPointItem( # 标注名称。 name: Optional[str] &#x3D; None, # 特殊的标注类型，用于标注最大值最小值等。可选: # &#39;min&#39; 最大值。 # &#39;max&#39; 最大值。 # &#39;average&#39; 平均值。 type_: Optional[str] &#x3D; None, # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值，可以是 # 0（xAxis, radiusAxis）， # 1（yAxis, angleAxis），默认使用第一个数值轴所在的维度。 value_index: Optional[Numeric] &#x3D; None, # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值。这可以是维度的直接名称， # 例如折线图时可以是 x、angle 等、candlestick 图时可以是 open、close 等维度名称。 value_dim: Optional[str] &#x3D; None, # 标注的坐标。坐标格式视系列的坐标系而定，可以是直角坐标系上的 x, y， # 也可以是极坐标系上的 radius, angle。例如 [121, 2323]、[&#39;aa&#39;, 998]。 coord: Optional[Sequence] &#x3D; None, # 相对容器的屏幕 x 坐标，单位像素。 x: Optional[Numeric] &#x3D; None, # 相对容器的屏幕 y 坐标，单位像素。 y: Optional[Numeric] &#x3D; None, # 标注值，可以不设。 value: Optional[Numeric] &#x3D; None, # 标记的图形。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, # &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 symbol: Optional[str] &#x3D; None, # 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高， # 例如 [20, 10] 表示标记宽为 20，高为 10。 symbol_size: Union[Numeric, Sequence] &#x3D; None, # 标记点样式配置项，参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None,) MarkPointOpts：标记点配置项 1234567891011121314151617181920class MarkPointOpts( # 标记点数据，参考 &#96;series_options.MarkPointItem&#96; data: Sequence[Union[MarkPointItem, dict]] &#x3D; None, # 标记的图形。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, # &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 symbol: Optional[str] &#x3D; None, # 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高， # 例如 [20, 10] 表示标记宽为 20，高为 10。 # 如果需要每个数据的图形大小不一样，可以设置为如下格式的回调函数： # (value: Array|number, params: Object) &#x3D;&gt; number|Array # 其中第一个参数 value 为 data 中的数据值。第二个参数 params 是其它的数据项参数。 symbol_size: Union[None, Numeric] &#x3D; None, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: LabelOpts &#x3D; LabelOpts(position&#x3D;&quot;inside&quot;, color&#x3D;&quot;#fff&quot;),) MarkLineItem：标记线数据项 123456789101112131415161718192021222324252627282930313233343536373839class MarkLineItem( # 标注名称。 name: Optional[str] &#x3D; None, # 特殊的标注类型，用于标注最大值最小值等。可选: # &#39;min&#39; 最大值。 # &#39;max&#39; 最大值。 # &#39;average&#39; 平均值。 type_: Optional[str] &#x3D; None, # 相对容器的屏幕 x 坐标，单位像素。 x: Union[str, Numeric, None] &#x3D; None, # 相对容器的屏幕 y 坐标，单位像素。 y: Union[str, Numeric, None] &#x3D; None, # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值，可以是 # 0（xAxis, radiusAxis）， # 1（yAxis, angleAxis），默认使用第一个数值轴所在的维度。 value_index: Optional[Numeric] &#x3D; None, # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值。这可以是维度的直接名称， # 例如折线图时可以是 x、angle 等、candlestick 图时可以是 open、close 等维度名称。 value_dim: Optional[str] &#x3D; None, # 起点或终点的坐标。坐标格式视系列的坐标系而定，可以是直角坐标系上的 x, y， # 也可以是极坐标系上的 radius, angle。 coord: Optional[Sequence] &#x3D; None, # 终点标记的图形。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, # &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 symbol: Optional[str] &#x3D; None, # 标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高， # 例如 [20, 10] 表示标记宽为 20，高为 10。 symbol_size: Optional[Numeric] &#x3D; None,) MarkLineOpts：标记线配置项 12345678910111213141516171819202122class MarkLineOpts( # 图形是否不响应和触发鼠标事件，默认为 false，即响应和触发鼠标事件。 is_silent: bool &#x3D; False, # 标记线数据，参考 &#96;series_options.MarkLineItem&#96; data: Sequence[Union[MarkLineItem, dict]] &#x3D; None, # 标线两端的标记类型，可以是一个数组分别指定两端，也可以是单个统一指定，具体格式见 data.symbol。 symbol: Optional[str] &#x3D; None, # 标线两端的标记大小，可以是一个数组分别指定两端，也可以是单个统一指定。 symbol_size: Union[None, Numeric] &#x3D; None, # 标线数值的精度，在显示平均值线的时候有用。 precision: int &#x3D; 2, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: LabelOpts &#x3D; LabelOpts(), # 标记线样式配置项，参考 &#96;series_options.LineStyleOpts&#96; linestyle_opts: Union[LineStyleOpts, dict, None] &#x3D; None,) MarkAreaItem：标记区域数据项 123456789101112131415161718192021222324252627282930class MarkAreaItem( # 区域名称, 仅仅就是一个名称而已 name: Optional[str] &#x3D; None, # 特殊的标注类型，用于标注最大值最小值等。 # &#39;min&#39; 最大值。 # &#39;max&#39; 最大值。 # &#39;average&#39; 平均值。 type_: Sequence[Optional[str], Optional[str]] &#x3D; (None, None), # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值，可以是 0（xAxis, radiusAxis），1（yAxis, angleAxis）。 # 默认使用第一个数值轴所在的维度。 value_index: Sequence[Optional[Numeric], Optional[Numeric]] &#x3D; (None, None), # 在使用 type 时有效，用于指定在哪个维度上指定最大值最小值。 # 这可以是维度的直接名称，例如折线图时可以是 x、angle 等、candlestick 图时可以是 open、close 等维度名称。 value_dim: Sequence[Optional[str], Optional[str]] &#x3D; (None, None), # 相对容器的屏幕 x 坐标，单位像素，支持百分比形式，例如 &#39;20%&#39;。 x: Sequence[Union[str, Numeric, None], Union[str, Numeric, None]] &#x3D; (None, None), # 相对容器的屏幕 y 坐标，单位像素，支持百分比形式，例如 &#39;20%&#39;。 y: Sequence[Union[str, Numeric, None], Union[str, Numeric, None]] &#x3D; (None, None), # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: Union[LabelOpts, dict, None] &#x3D; None, # 该数据项区域的样式，起点和终点项的 itemStyle 会合并到一起。参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: Union[ItemStyleOpts, dict, None] &#x3D; None,) MarkAreaOpts：标记区域配置项 12345678910111213class MarkAreaOpts( # 图形是否不响应和触发鼠标事件，默认为 False，即响应和触发鼠标事件。 is_silent: bool &#x3D; False, # 标签配置项，参考 &#96;series_options.LabelOpts&#96; label_opts: LabelOpts &#x3D; LabelOpts(), # 标记区域数据，参考 &#96;series_options.MarkAreaItem&#96; data: Sequence[Union[MarkAreaItem, Sequence, dict]] &#x3D; None, # 该数据项区域的样式。参考 &#96;series_options.ItemStyleOpts&#96; itemstyle_opts: ItemStyleOpts &#x3D; None,) EffectOpts：涟漪特效配置项 1234567891011121314151617181920212223242526272829class EffectOpts( # 是否显示特效。 is_show: bool &#x3D; True, # 波纹的绘制方式，可选 &#39;stroke&#39; 和 &#39;fill&#39;，Scatter 类型有效。 brush_type: str &#x3D; &quot;stroke&quot;, # 动画中波纹的最大缩放比例，Scatter 类型有效。 scale: Numeric &#x3D; 2.5, # 动画的周期，秒数，Scatter 类型有效。 period: Numeric &#x3D; 4, # 特效标记的颜色 color: Optional[str] &#x3D; None, # 特效图形的标记。 # ECharts 提供的标记类型包括 &#39;circle&#39;, &#39;rect&#39;, &#39;roundRect&#39;, &#39;triangle&#39;, # &#39;diamond&#39;, &#39;pin&#39;, &#39;arrow&#39;, &#39;none&#39; # 可以通过 &#39;image:&#x2F;&#x2F;url&#39; 设置为图片，其中 URL 为图片的链接，或者 dataURI。 symbol: Optional[str] &#x3D; None, # 特效标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示高和宽， # 例如 [20, 10] 表示标记宽为 20，高为 10。 symbol_size: Optional[Numeric] &#x3D; None, # 特效尾迹的长度。取从 0 到 1 的值，数值越大尾迹越长。Geo 图设置 Lines 类型时有效。 trail_length: Optional[Numeric] &#x3D; None,) AreaStyleOpts：区域填充样式配置项 123456789101112131415161718192021222324252627282930313233343536373839404142434445class AreaStyleOpts( # 图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。 opacity: Optional[Numeric] &#x3D; 0, # 填充的颜色。 # 颜色可以使用 RGB 表示，比如 &#39;rgb(128, 128, 128)&#39;，如果想要加上 alpha 通道表示不透明度， # 可以使用 RGBA，比如 &#39;rgba(128, 128, 128, 0.5)&#39;，也可以使用十六进制格式，比如 &#39;#ccc&#39;。 # 除了纯色之外颜色也支持渐变色和纹理填充 # # 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，相当于在图形包围盒中的百分比， # 如果 globalCoord 为 &#96;true&#96;，则该四个值是绝对的像素位置 # color: &#123; # type: &#39;linear&#39;, # x: 0, # y: 0, # x2: 0, # y2: 1, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 径向渐变，前三个参数分别是圆心 x, y 和半径，取值同线性渐变 # color: &#123; # type: &#39;radial&#39;, # x: 0.5, # y: 0.5, # r: 0.5, # colorStops: [&#123; # offset: 0, color: &#39;red&#39; &#x2F;&#x2F; 0% 处的颜色 # &#125;, &#123; # offset: 1, color: &#39;blue&#39; &#x2F;&#x2F; 100% 处的颜色 # &#125;], # global: false &#x2F;&#x2F; 缺省为 false # &#125; # # 纹理填充 # color: &#123; # image: imageDom, &#x2F;&#x2F; 支持为 HTMLImageElement, HTMLCanvasElement，不支持路径字符串 # repeat: &#39;repeat&#39; &#x2F;&#x2F; 是否平铺, 可以是 &#39;repeat-x&#39;, &#39;repeat-y&#39;, &#39;no-repeat&#39; # &#125; color: Optional[str] &#x3D; None) SplitAreaOpts：分隔区域配置项 123456class SplitAreaOpts( # 是否显示分隔区域。 is_show&#x3D;True, # 分隔区域的样式配置项，参考 &#96;series_options.AreaStyleOpts&#96; areastyle_opts: AreaStyleOpts &#x3D; AreaStyleOpts()) MinorTickOpts：次级刻度配置项 12345678910111213class MinorTickOpts( # 是否显示次刻度线。 is_show: bool &#x3D; False, # 次刻度线分割数，默认会分割成 5 段 split_number: Numeric &#x3D; 5, # 次刻度线的长度。 length: Numeric &#x3D; 3, # 次刻度线的样式 linestyle_opts: Union[LineStyleOpts, dict, None] &#x3D; None,) MinorSplitLineOpts：次级分割线配置项 12345678910111213141516class MinorSplitLineOpts( # 是否显示次分隔线。默认不显示。 is_show: bool &#x3D; False, # 次分隔线线宽。 width: Numeric &#x3D; 1, # 次分隔线线的类型。可选：&#39;solid&#39;，&#39;dashed&#39;，&#39;dotted&#39; type_: str &#x3D; &quot;solid&quot;, # 图形透明度。支持从 0 到 1 的数字，为 0 时不绘制该图形。 opacity: Union[Numeric, None] &#x3D; None, # 线的样式 linestyle_opts: Union[LineStyleOpts, dict, None] &#x3D; None,)","categories":[],"tags":[{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"}]},{"title":"linux_vi编辑器","slug":"linux_vi编辑器","date":"2020-07-29T12:12:54.000Z","updated":"2020-07-31T13:55:07.706Z","comments":true,"path":"2020/07/29/linux-vi-bian-ji-qi/","link":"","permalink":"http://yoursite.com/2020/07/29/linux-vi-bian-ji-qi/","excerpt":"","text":"linux vi 编辑器 命令模式vi启动后默认进入的是命令模式，按一下[Esc]键可以返回命令模式。在命令模式中输入字幕“i”就可以进入vi的输入模式编辑文件。 vi 的启动和退出 启动 直接输入命令vi不指定文件名，由于这是一个没有命名的空文件，显示了vi的版本信息。使用vi打开文件，如果文件存在打开存在文件；如果不存在的话，将以我们指定的参数作为文件名。 光标移动 方向键 向上移动光标：k 向左移动光标：h 向右移动光标：l 向下移动光标：j 翻页 Ctrl+F 向前翻整页 Ctrl+U 向前翻半页 Ctrl+B 向后翻整页 Ctrl+D 向后翻半页 行内快速跳转 ^ 移动到本行行首 $ 移动到本行行尾 在命令模式下，使用以下命令可以快速的在行间跳转 1G 跳转到文件首行 G 跳转到尾行 #G 跳转到文件的#行 删除操作 (命令模式) x 删除光标处的单个字符 dd 删除光标所在行 dw 删除当前字符到单词尾包括空格的所有字符 #x 例如3x删除光标处向右的三个字符 #dd 例如3dd从当前行开始向下删除三行文本 复制操作 yy 命令复制当前整行的内容到vi缓冲区 yw 复制当前光标所在位置到单词尾字符的内容到vi缓存区，相当于复制一个单词 y$ 复制光标所在位置到行尾内容到缓存区 y^ 复制光标所在位置到行首内容到缓存区 #yy例如：5yy就是复制5行 #yw例如：2yw就是复制两个单词 恢复文件 vi在编辑某一个文件时，会生成一个临时文件，这个文件以 . 开头并以 .swp结尾。正常退出该文件自动删除，如果意外退出例如忽然断电，该文件不会删除，我们在下次编辑时可以选择一下命令处理 O 只读打开，不改变文件内容 E 继续编辑文件，不恢复.swp文件保存的内容 R 将恢复上次编辑以后未保存文件内容 Q 退出vi D 删除.swp文件+ 或者使用vi －r 文件名来恢复未保存的内容 输入模式 在这个模式中我们可以编辑、修改、输入等编辑工作，在编辑器最后一行显示一个“--INSERT--”标志着vi进入了输入模式。当需要保存文件时，先返回命令模式，再进入末行模式保存。 Home 光标到行首 End 光标到行尾 Page Up 和 Page Down 上下翻页 Delect 删除光标位置的字符 编辑操作 进入输入模式命令 i 插入命令 a 附加命令 o 打开命令 c 修改命令 r 取代命令 s 替换命令 Esc 退出命令 末行模式 在命令模式输入&quot;: &quot;即可进入该模式 查找和替换 查找 至上而下的查找 / 要查找的字符窜，其中/代表从光标所在位置起开始查找，例如：/ work 至下而上的查找 ？要查找的字符窜 例如：/ work 替换 如果替换的范围较大时，在所有的命令尾加一个c命令，强制每个替换需要用户进行确认，例如:s/old/new/c 或s/old/new/gc :s/old/new 用new替换行中首次出现的old : s/old/new/g 用new替换行中所有出现的old :#,# s/old/new/g 用new替换从第＃行到第＃行中出现的old ：% s/old/new/g 用new替换整篇中出现的old 保存文件 如果文件已经有文件名，我们在末行模式直接输入w保存，如果没有文件名，输入w 文件名进行保存或另存为。例如：w test其中test是文件名。 退出 q! : 强制退出，不保存当前文件内容 q : 正常退出，不保存需改 wq : 保存退出 wq!: 保存强制退出 显示行号和取消行号(末行模式使用) set nu 显示行号 set nonu 取消行号 撤销操作 u 命令取消最近一次的操作，可以使用多次来恢复原有的操作 U 取消所有操作 Ctrl+R 可以恢复对使用u命令的操作","categories":[],"tags":[{"name":"Linux_study","slug":"Linux-study","permalink":"http://yoursite.com/tags/Linux-study/"}]},{"title":"linux_常用命令","slug":"linux_常用命令","date":"2020-07-29T12:12:54.000Z","updated":"2020-07-31T13:54:39.759Z","comments":true,"path":"2020/07/29/linux-chang-yong-ming-ling/","link":"","permalink":"http://yoursite.com/2020/07/29/linux-chang-yong-ming-ling/","excerpt":"","text":"基础命令命令格式: 命令字 [命令选项] [命令参数] Command [option] [arguments] 文件类型 “ * “在文件名后: 可执行文件 “ @ “在文件名后: 符号链接 “ / “在文件名后: 目录名 1. ls：列出目录内容 语法 12345678910111213141516ls [-laAbBcCdDfFgGHiklLmnNopqQrRsStuUvxX] [-I &lt;范本样式&gt;] [-T &lt;跳格字数&gt;] [-w &lt;每列字符数&gt;] [--block-size&#x3D;&lt;区块大小&gt;] [--color&#x3D;&lt;使用时机&gt;] [--format&#x3D;&lt;列表格式&gt;] [-full-time] [--help] [--indicator-style&#x3D;&lt;标注样式&gt;] [--quoting-style&#x3D;&lt;引号样式&gt;] [--show-control-chars] [--sort&#x3D;&lt;排列方式&gt;] [--time&#x3D;&lt;时间戳记&gt;] [--version] [文件或目录...] 常用命令 12345678ls -a 列出所有文件，包括隐藏文件ls -l 详细列出目录下文件的权限、所有者、文件大小等详细信息 &lt;简写为: ll&gt;ls -F 列出目录下文件名及其目录类型ls -t 依照最后修改文件时间列出文件名ls -R 列出当前目录和其子目录的文件名ls -color&#x3D;never 不以颜色方式显示ls -color&#x3D;always 均以颜色方式显示ls -color&#x3D;auto 系统自动判断 2. cd切换用户当前目录 1234cd [目的目录 (绝对路径或相对路径) ]cd ~ 返回用户宿主目录cd . 用户的当前目录cd .. 返回上一级目录 3. pwd查看用户当前所在位置 4. mkdir创建目录，可在创建目录的同时设置目录的权限 语法 1mkdir [-p] [--help] [--version] [-m &lt;目录属性&gt;] [目录名称] 参数 -m&lt;目录属性&gt; 或 –mode&lt;目录属性&gt; : 建立目录同时设置目录的权限 -p 或 –parents: 若所要建立目录的上层目录目前尚未建立，一并建立 –help: 显示帮助 –verbose: 显示执行时的详细信息 –version: 显示版本信息 同时建立多个目录 1mkdir dir_name1 dir_name2 dir_name3 5. rmdir删除空目录，所删除目录必需为空 语法 1rmdir [-p] [--help] [--ignore-fail-on-non-empty] [--verbose] [--version] [目录...] 参数 -p 或 –parents: 删除指定目录后，若该目录的上层目录已变为空目录，则一并删除 –help: 在线帮助 –ignore-fail-on-non-empty: 忽略非空目录的错误信息 –verbose: 显示指令执行过程 –version: 显示版本信息 同时删除多个空目录 1rmdir dir_name1 dir_name2 dir_name3 6. cp复制文件或目录，可以同时输入多个文件或目录复制进入最后一个目录下 (如果最后一个目录存在的情况下) 语法 123456789cp [-abdfilpPrRsuvx] [-S &lt;备份字尾字符串&gt;] [-V &lt;备份方式&gt;] [--help] [--spares&#x3D;&lt;使用时机&gt;] [--version] [源文件或目录] [目标文件或目录] [目的目录] 部分参数 -b 或 –backup: 删除，覆盖目标文件之前的备份，备份文件会在字未添加备份字符串 -f 或 –force: 强制复制文件或目录，无论文件或目录是否存在 -l 或 –link: 对源文件建立硬连接而不是复制 -P 或 –preserve: 保留源文件或目录属性 -p 或 –parents: 保留源文件或目录的路径 -r 或 –recursive: 递归处理，将指定目录下文件与子目录一并处理 常用命令1cp 被复制文件或目录 复制进目录 7. rm删除文件或目录，删除目录必须加上 &quot;-r&quot; 语法 1rm [-dfirv] [--help] [--version] [文件或目录...] 参数 -d 或 –directory: 直接把欲删除的目录的硬连接数据删成0，删除该目录。 -f 或 –force: 强制删除文件或目录。 -i 或 –interactive: 删除既有文件或目录之前先询问用户。 -r 或 -R 或 –recursive: 递归处理，将指定目录下的所有文件及子目录一并处理。 -v 或 –verbose 显示指令执行过程。 –help: 在线帮助。 –version: 显示版本信息。 常用命令 rm -r: 循环删除到没有 rm -f: 强制删除 rm -rf: 强制删除文件 8. mv对文件或目录进行重命名或移动 语法 1mv [-bfiuv] [--help] [-S &lt;附加字尾&gt;] [-V &lt;方法&gt;] [源文件或目录] [目标文件或目录] 参数 -b 或 –backup: 若需覆盖文件，则覆盖前先行备份。 -f 或 –force: 若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文 件或目录。 -i 或 –interactive: 覆盖前先行询问用户。 -S&lt;附加字尾&gt; 或 –suffix=&lt;附加字尾&gt;: 与-b参数一并使用，可指定备份文件的所要附加的字尾。 -u 或 –update: 在移动或更改文件名时，若目标文件已存在，且其文件日期比源文件新，则不覆盖目标文件。 -v 或 –verbose: 执行时显示详细的信息。 -V=&lt;方法&gt;或 –version-control=&lt;方法&gt;: 与-b参数一并使用，可指定备份的方法。 –help: 显示帮助。 –version: 显示版本信息。 9. cat用于最简单的文本查看，显示文件没有停顿，从第一行开始，最后只显示最后一行，不适合长文件 语法 1cat [-AbeEnstTuv] [--hellp] [--version] filename 参数 -n 或 –number: 由 1 开始对所有输出的行数编号 -b 或 –number-nonblank 和 -n 相似: 对于空白行不编号 -s 或 –squeeze-blank: 当遇到有连续两行以上的空白行，就代换为一行的空白行 -v 或 –show-nonprinting 常用命令 1234把 textfile1 的档案内容加上行号输入 textfile2 档案:cat -n textfile1 &gt; textfile2把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里:cat -b textfile1 textfile2 &gt;&gt; textfile3 10. more/less与 cat 类似，用于大文件，分屏显示文件内容 (less最后一行显示当前阅读文件名称) 语法 12more [文件名]less [文件名] 11. find查找符合条件的文件或目录，速率低下 语法 1234567find [目录...] [-amin &lt;分钟&gt;] [-anewer &lt;参考文件或目录&gt;] [-atime &lt;24小时数&gt;] [-cmin &lt;分钟&gt;] [-user &lt;拥有者名称&gt;] ... 12. diff逐行比较文件的差异，需要指定比较目录，会比较目录中相同文件名的文件，但不会比较子目录 语法 12345678910diff [-abBcdefHilnNpPqrstTuvwy] [-&lt;行数&gt;] [-C &lt;行数&gt;] [-I &lt;字符或字符串&gt;] [-S &lt;文件&gt;] [-W &lt;宽度&gt;] [-x &lt;文件或目录&gt;] [-X &lt;文件&gt;] [文件或目录1] [文件或目录2] 参数 -&lt;行数&gt;: 指定比较行数 (必须与-c, -u一起使用) -b 或–ignore-space-change: 不检查空格字符的不同。 -B 或 –ignore-blank-lines: 不检查空白行 -c: 显示全部内文，并标出不同 -u: 以合并的方式显示文件内容不同 13. which查找文件，which指令会在环境变量$PATH设置的目录里查找符合条件的文件。 语法 1which [文件...] 参数 -n&lt;文件名长度&gt;: 指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。 -p&lt;文件名长度&gt;: 与-n参数相同，但此处的&lt;文件名长度&gt;包括了文件的路径。 -w: 指定输出时栏位的宽度。 -V: 显示版本信息。 14. ftp设置文件系统相关功能，文件传输协议 语法 1ftp [-dignv] [主机名称或IP地址] 参数 -d: 详细显示指令执行过程，便于排错或分析程序执行的情形。 -i: 关闭互动模式，不询问任何问题。 -g: 关闭本地主机文件名称支持特殊字符的扩充特性。 -n: 不使用自动登陆。 -v: 显示指令执行过程。 15. kill删除执行中的程序或工作 语法 1kill [-s &lt;信息名称或编号&gt;] [程序] 或 kill [-1 &lt;信息编号&gt;] 参数 -l &lt;信息编号&gt;: 若不加&lt;信息编号&gt;选项，则-l参数会列出全部的信息名称。 -s &lt;信息名称或编号&gt;: 指定要送出的信息。 【程序】: [程序]可以是程序的PID或是PGID，也可以是工作编号 16. sudo以其他身份来执行命令，预设的身份为root 语法 1sudo [-bhHpV] [-s &lt;shell&gt;] [-u &lt;用户&gt;] [指令] 或 sudo [-klv] 参数 -b: 在后台执行指令。 -h: 显示帮助 -H: 将HOME环境变量设为新身份的HOME环境变量。 -k: 结束密码的有效期限，也就是下次再执行sudo时便需要输入密码。 -l: 列出目前用户可执行与无法执行的指令。 -p: 改变询问密码的提示符号。 -s: 执行指定的shell。 -u&lt;用户&gt;: 以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份。 -v: 延长密码有效期限5分钟。 -V: 显示版本信息。 17. su临时变更用户身份，必须输入账号密码 语法 1su [-flmp] [--help] [--version] [-] [-c &lt;指令&gt;] [-s &lt;shell&gt;][用户帐号] 参数 -c&lt;指令&gt;或–command=&lt;指令&gt;: 执行完指定的指令后，即恢复原来的身份。 -f或–fast: 适用于csh与tsch，使shell不用去读取启动文件。 -.-l或–login: 改变身份时，也同时变更工作目录，以及HOME,SHELL,USER,LOGNAME。此外，也会变更PATH变量。 -m,-p或–preserve-environment: 变更身份时，不要变更环境变量。 -s或–shell=: 指定要执行的shell。 –help: 显示帮助。 –version: 显示版本信息。 【用户帐号】: 指定要变更的用户。若不指定此参数，则预设变更为root。 18. who显示目前登录系统的用户信息，目前有那些用户登入系统，单独执行who指令会列出登入帐号，使用的 终端机，登入时间以及从何处登入或正在使用哪个X显示器。 语法 1who [-Himqsw] [--help] [--version] [am i] [记录文件] 参数 -H或–heading: 显示各栏位的标题信息列。 -i或-u或–idle: 显示闲置时间，若该用户在前一分钟之内有进行任何动作，将标示成&quot;.&quot;号，如果该用户已超过24小时没有任何动作，则标示出&quot;old&quot;字符串。 -m: 此参数的效果和指定&quot;am i&quot;字符串相同。显示自身用户名称 -q或–count: 只显示登入系统的帐号名称和总人数。 -s: 此参数将忽略不予处理，仅负责解决who指令其他版本的兼容性问题。 -w或-T或–mesg或–message或–writable: 显示用户的信息状态栏。 –help: 在线帮助。 –version: 显示版本信息 19. tree以树状图列出指定目录下的所有文件，包括子目录里的文件。 语法 1tree [-aACdDfFgilnNpqstux] [-I &lt;范本样式&gt;] [-P &lt;范本样式&gt;] [目录...] 参数 -a: 显示所有文件和目录 -C: 在文件和目录清单加上色彩，便于区分各种类型。 -D: 列出文件或目录更改时间 -s: 列出文件或目录大小 20. gzip将文件压缩成 .gz 文件 语法 1gzip [-acdfhlLnNqrtvV] [-S &lt;压缩字尾字符串&gt;] [-&lt;压缩效率&gt;] [--best&#x2F;fast][文件...] 或 gzip [-acdfhlLnNqrtvV] [-S &lt;压缩字尾字符串&gt;] [-&lt;压缩效率&gt;] [--best&#x2F;fast] [目录] 参数 -d或–decompress或—-uncompress: 解开压缩文件。 -f或–force: 强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接。 -l或–list: 列出压缩文件的相关信息。 -n或–no-name: 压缩文件时，不保存原来的文件名称及时间戳记。 -N或–name: 压缩文件时，保存原来的文件名称及时间戳记。 -r或–recursive: 递归处理，将指定目录下的所有文件及子目录一并处理。 -&lt;压缩效率&gt;: 压缩效率是一个介于1－9的数值，预设值为&quot;6&quot;，指定愈大的数值，压缩效率就会愈高 –best: 此参数的效果和指定&quot;-9&quot;参数相同。 –fast: 此参数的效果和指定&quot;-1&quot;参数相同。 21. tar建立，还原备份文件的工具程序，它可以加入，解开备份文件内的文件。 语法 12345678910111213141516171819202122tar [-ABcdgGhiklmMoOpPrRsStuUvwWxzZ] [-b &lt;区块数目&gt;] [-C &lt;目的目录&gt;] [-f &lt;备份文件&gt;] [-F &lt;Script文件&gt;] [-K &lt;文件&gt;] [-L &lt;媒体容量&gt;] [-N &lt;日期时间&gt;] [-T &lt;范本文件&gt;] [-V &lt;卷册名称&gt;] [-X &lt;范本文件&gt;] [-&lt;设备编号&gt;&lt;存储密度&gt;] [--after-date&#x3D;&lt;日期时间&gt;] [--atime-preserve] [--backuup&#x3D;&lt;备份方式&gt;] [--checkpoint] [--concatenate] [--confirmation] [--delete] [--exclude&#x3D;&lt;范本样式&gt;] ... [文件或目录...] 参数 -c或–create: 建立新的备份文件。 -f&lt;备份文件&gt;或–file=&lt;备份文件&gt;: 指定备份文件。 -v或–verbose: 显示指令执行过程。 22. zip压缩后产生 .zip 压缩文件 语法 12345678910zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$] [-b &lt;工作目录&gt;] [-ll] [-n &lt;字尾字符串&gt;] [-t &lt;日期时间&gt;] [-&lt;压缩效率&gt;] [压缩文件] [文件...] [-i &lt;范本样式&gt;] [-x &lt;范本样式&gt;] 参数 -A: 调整可执行的自动解压缩文件 -b&lt;工作目录&gt;: 指定暂时存放文件的目录。 -F: 尝试修复已损坏的压缩文件。 -J: 删除压缩文件前面不必要的数据。 -m: 将文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中。 -r: 递归处理，将指定目录下的所有文件和子目录一并处理。 -z: 替压缩文件加上注释。 -&lt;压缩效率&gt;: 压缩效率是一个介于1-9的数值。 23. pstree以树状图显示程序,清楚地表达程序间的相互关系。如果不指定程序识别码或用户名称，则会把系统启动时的第一个程序视为基层，并显示之后的所有程序。若指定用户名称，便会以隶属该用户的第一个程序当作基层，然后显示该用户的所有程序。 语法 1pstree [-acGhlnpuUV] [-H &lt;程序识别码&gt;] [&lt;程序识别码&gt;&#x2F;&lt;用户名称&gt;] 参数 -a: 显示每个程序的完整指令，包含路径，参数或是常驻服务的标示。 -c: 不使用精简标示法。 -G: 使用VT100终端机的列绘图字符。 -h: 列出树状图时，特别标明现在执行的程序。 -H&lt;程序识别码&gt;: 此参数的效果和指定&quot;-h&quot;参数类似，但特别标明指定的程序。 -l: 采用长列格式显示树状图。 -n: 用程序识别码排序。预设是以程序名称来排序。 -p: 显示程序识别码。 -u: 显示用户名称。 -U: 使用UTF-8列绘图字符。 -V: 显示版本信息。 24. ps报告程序执行状况的指令，可以搭配kill指令随时中断，删除不必要的程序。 语法 1ps [-aAcdefHjlmNVwy] [acefghLnrsSTuvxX] ... 参数 -a: 显示所有终端机下执行的程序，除了阶段作业领导者之外。 a: 显示现行终端机下的所有程序，包括其他用户的程序。 -A: 显示所有程序。 c: 列出程序时，显示每个程序真正的指令名称，而不包含路径，参数或常驻服务的标示。 e: 列出程序时，显示每个程序所使用的环境变量。 -H: 显示树状结构，表示程序间的相互关系。","categories":[],"tags":[{"name":"Linux_study","slug":"Linux-study","permalink":"http://yoursite.com/tags/Linux-study/"}]},{"title":"css_note","slug":"css_note","date":"2020-07-27T12:12:54.000Z","updated":"2020-07-31T13:56:24.158Z","comments":true,"path":"2020/07/27/css-note/","link":"","permalink":"http://yoursite.com/2020/07/27/css-note/","excerpt":"","text":"CSS Study一、CSS 初步 添加 CSS把 styles.css 和 index.html 联结起来，可以在HTML文档中，&lt;head&gt;语句模块里面加上下面的代码： 1&lt;link rel&#x3D;&quot;styesheet&quot; href&#x3D;&quot;styles.css&gt; 二、构建 CSS 块 层叠与继承1. 冲突规则 层叠 Stylesheets cascade（样式表层叠） — 简单的说，css规则的顺序很重要；当应用两条同级别的规则到一个元素的时候，写在后面的就是实际使用的规则。 优先级 一个元素选择器不是很具体 — 会选择页面上该类型的所有元素 — 所以它的优先级就会低一些。 一个类选择器稍微具体点 — 它会选择该页面中有特定 class 属性值的元素 — 所以它的优先级就要高一点。 继承 如果设置一个元素的 color 和 font-family ，每个在里面的元素也都会有相同的属性，除非直接在元素上设置属性。2. 理解继承 控制继承 CSS 为控制继承提供了四个特殊的通用属性值。每个css属性都接收这些值。 inherit设置该属性会使子元素属性和父元素相同。实际上，就是 &quot;开启继承&quot;. initial 设置属性值和浏览器默认样式相同。如果浏览器默认样式中未设置且该属性是自然继承的，那么会设置为 inherit 。 unset 将属性重置为自然值，也就是如果属性是自然继承那么就是 inherit，否则和 initial一样 重设所有属性值 CSS 的 shorthand 属性 all 可以用于同时将这些继承值中的一个应用于（几乎）所有属性。它的值可以是其中任意一个(inherit, initial, unset, or revert)。这是一种撤销对样式所做更改的简便方法，以便回到之前已知的起点。 CSS 选择器1. 选择器列表单独的选择器可以被混编为一个“选择器列表”，这样，规则就可以应用到所有的单个选择器上,如果任何一个选择器无效 (存在语法错误)，那么整条规则都会被忽略。 123h1, .special &#123; color: blue; &#125;2. 选择器的种类 类型、类、id选择器 123h1 &#123;&#125; &#x2F;*类型选择器*&#x2F;.box &#123;&#125; &#x2F;*类选择器*&#x2F;#unique &#123;&#125; &#x2F;*ID 选择器*&#x2F; 标签属性选择器 12a[title] &#123; &#125; &#x2F;*根据一个元素上的某个标签的属性的存在以选择元素的不同方式*&#x2F;a[href&#x3D;&quot;https:&#x2F;&#x2F;example.com&quot;] &#123; &#125; &#x2F;*根据一个有特定值的标签属性是否存在来选择*&#x2F; 伪类和伪元素 1234&#x2F;*包含了伪类，用来样式化一个元素的特定状态*&#x2F;a:hover &#123; &#125; &#x2F;*:hover伪类会在鼠标指针悬浮到一个元素上的时候选择这个元素：*&#x2F;&#x2F;*包含了伪元素，选择一个元素的某个部分而不是元素自己*&#x2F;p::first-line &#123; &#125; &#x2F;*::first-line是会选择一个元素（下面的情况中是&lt;p&gt;）中的第一行，类似&lt;span&gt;包在了第一个被格式化的行外面，然后选择这个&lt;span&gt;。*&#x2F; 运算符 12&#x2F;*将其他选择器组合起来，更复杂的选择元素*&#x2F;article &gt; p &#123; &#125; &#x2F;*用运算符（&gt;）选择了&lt;article&gt;元素的初代子元素。*&#x2F; 盒模型1. 块级盒子（Block box） 和 内联盒子（Inline box） 块级盒子（Block box）标题(&lt;h1&gt;等)和段落(&lt;p&gt;)默认情况下都是块级的盒子。 盒子会在内联的方向上扩展并占据父容器在该方向上的所有可用空间，在绝大数情况下意味着盒子会和父容器一样宽 每个盒子都会换行 width 和 height 属性可以发挥作用 内边距（padding）, 外边距（margin） 和 边框（border） 会将其他元素从当前盒子周围“推开” 内联盒子（Inline box） 用做链接的 &lt;a&gt; 元素、 &lt;span&gt;、 &lt;em&gt; 以及 &lt;strong&gt; 都是默认处于 inline 状态 盒子不会产生换行。 width 和 height 属性将不起作用。 垂直方向的内边距、外边距以及边框会被应用但是不会把其他处于 inline 状态的盒子推开。 水平方向的内边距、外边距以及边框会被应用而且也会把其他处于 inline 状态的盒子推开。2. CSS 盒模型完整的 CSS 盒模型应用于块级盒子，内联盒子只使用盒模型中定义的部分内容。模型定义了盒的每个部分 —— margin, border, padding, and content 盒模型的各个部分 Content box: 这个区域是用来显示内容，大小可以通过设置 width 和 height. Padding box: 包围在内容区域外部的空白区域； 大小通过 padding 相关属性设置。 Border box: 边框盒包裹内容和内边距。大小通过 border 相关属性设置。 Margin box: 这是最外面的区域，是盒子和其他元素之间的空白区域。大小通过 margin 相关属性设置。 标准盒模型 在标准模型 (标准模型宽度 = 410px (350 + 25 + 25 + 5 + 5)，高度 = 210px (150 + 25 + 25 + 5 + 5)，padding 加 border 再加 content box) 中，如果你给盒设置 width 和 height，实际设置的是 content box。 padding 和 border 再加上设置的宽高一起决定整个盒子的大小。 1234567.box &#123; width: 350px; height: 150px; margin: 25px; padding: 25px; border: 5px solid black; &#125; 替代（IE）盒模型 css还有一个替代盒模型。使用这个模型，所有宽度都是可见宽度，所以内容宽度是该宽度减去边框和填充部分。使用替代模型，通过为其设置 box-sizing: border-box 来实现。 123.box &#123; box-sizing: border-box; &#125; 使用调试工具来查看盒模型 (F12)3. 外边距，内边距，边框 (详细) 外边距 外边距属性值可以为正也可以为负。设置负值会导致和其他内容重叠。无论使用标准模型还是替代模型，外边距总是在计算可见部分后额外添加。 使用margin属性一次控制一个元素的所有边距，或者 每边单独使用等价的普通属性控制： margin margin-top margin-right margin-bottom margin-left参数 &lt;length&gt;:指定一个固定的宽度。可以为负数。 &lt;percentage&gt; 相对于该元素的包含块的宽度（相对于该块的百分比）。该值可以为负数。 margin: auto; /* 该盒子是水平居中的, 上下边距为0 */ 浏览器会自动选择一个合适的margin来应用。它可以用于将一个块居中。比如，div { width:50%; margin:0 auto; } 会把这个div容器水平居中。 只有一个 值时，这个值会被指定给全部的 四个边. 两个 值时，第一个值被匹配给 上和下, 第二个值被匹配给 左和右. 三个 值时，第一个值被匹配给 上, 第二个值被匹配给 左和右, 第三个值被匹配给 下. 四个 值时，会依次按 上、右、下、左 的顺序匹配 (即顺时针顺序). 边框 边框是在边距和填充框之间绘制的。标准的盒模型，边框的大小将添加到框的宽度和高度。替代盒模型，那么边框的大小会使内容框更小，因为它会占用一些可用的宽度和高度。有四个边框，每个边框都有样式、宽度和颜色，我们可能需要对它们进行操作。 border属性一次设置所有四个边框的宽度、颜色和样式。 123.box &#123; border: 1px solid black; &#125; 等价于 12345.box &#123; border-width: 1px; border-style: solid; border-color: black; &#125; 分别设置每边的宽度、颜色和样式，可以使用： border-top border-right border-bottom border-left 设置所有边的颜色、样式或宽度，请使用以下属性： border-width border-style border-color 设置单边的颜色、样式或宽度，可以使用最细粒度的普通属性之一 border-top-width border-top-style border-top-color border-right-width border-right-style border-right-color border-bottom-width border-bottom-style border-bottom-color border-left-width border-left-style border-left-color 圆角 border-radius border-radius属性和与方框的每个角相关的长边来实现方框的圆角。可以使用两个长度或百分比作为值，第一个值定义水平半径，第二个值定义垂直半径。在很多情况下，您将只传递一个值，这两个值都将使用。 使一个盒子的四个角都有10px的圆角半径： 123.box &#123; border-radius: 10px; &#125; 右上角的水平半径为1em，垂直半径为10％： 123.box &#123; border-top-right-radius: 1em 10%; &#125; 由方形变为圆123.box&#123; border-radius: 50%;&#125; 内边距 内边距位于边框和内容区域之间。与外边距不同，不能有负数量的内边距，所以值必须是0或正的值。应用于元素的任何背景都将显示在内边距后面，内边距通常用于将内容推离边框。 使用padding简写属性控制元素所有边 每边单独使用等价的普通属性： padding-top padding-right padding-bottom padding-left4. 使用display: inline-blockdisplay有一个特殊的值，它在内联和块之间提供了一个中间状态。这对于以下情况非常有用:不希望一个项切换到新行，但希望它可以设定宽度和高度，并避免上面看到的重叠。 一个元素使用 display: inline-block，实现我们需要的块级的部分效果： 设置width 和height 属性会生效。 padding, margin, 以及border 会推开其他元素。 背景与边框1. CSS 的背景样式 背景颜色 background-color background-color属性定义了CSS中任何元素的背景颜色。属性接受任何有效的&lt;color&gt;值。背景色扩展到元素的内容和内边距的下面。 背景图片 background-image background-image属性允许在元素的背景中显示图像。 控制背景平铺 background-repeat background-repeat属性用于控制图像的平铺行为。可用的值是: no-repeat — 不重复。 repeat-x —水平重复。 repeat-y —垂直重复。 repeat — 在两个方向重复。 调整背景图像的大小 background-size background-size属性，它可以设置长度或百分比值，来调整图像的大小以适应背景。也可以使用关键字: cover —浏览器将使图像足够大，使它完全覆盖了盒子区，同时仍然保持其高宽比。在这种情况下，有些图像可能会跳出盒子外 contain — 浏览器将使图像的大小适合盒子内。在这种情况下，如果图像的长宽比与盒子的长宽比不同，则可能在图像的任何一边或顶部和底部出现间隙。 背景图像定位 background-position background-position属性允许您选择背景图像显示在其应用到的盒子中的位置。它使用的坐标系中，框的左上角是(0,0) (默认)，框沿着水平(x)和垂直(y)轴定位。 常见的背景位置值有两个单独的值——一个水平值后面跟着一个垂直值。` 12345.box &#123; background-image: url(star.png); background-repeat: no-repeat; background-position: top center; &#125; 或者使用 长度值, and 百分比： 12345.box &#123; background-image: url(star.png); background-repeat: no-repeat; background-position: 20px 10%; &#125; 混合使用关键字，长度值以及百分比 12345.box &#123; background-image: url(star.png); background-repeat: no-repeat; background-position: top 20px;&#125; 4-value语法来指示到盒子的某些边的距离12345.box &#123; background-image: url(star.png); background-repeat: no-repeat; background-position: top 20px right 10px; &#125; 渐变背景 使用background-image属性设置。 多背景图像 在单个属性值中指定多个background-image值，用逗号分隔每个值，会发生图像重叠.其他 background-*属性也可以有值逗号分隔的方式休市对应的的background-image： 12background-image: url(image1.png), url(image2.png), url(image3.png), url(image1.png);background-repeat: no-repeat, repeat-x, repeat; 背景附加 指定如何滚动时，内容滚动。这是由background-attachment属性控制的，它可以接受以下值: scroll:使元素的背景在页面滚动时滚动。如果滚动了元素内容，则背景不会移动。实际上，背景被固定在页面的相同位置，所以它会随着页面的滚动而滚动。 fixed: 使元素的背景固定在视图端口上，这样当页面或元素内容滚动时，它就不会滚动。它将始终保持在屏幕上相同的位置。 local: 这个值是后来添加的(它只在Internet Explorer 9+中受支持，而其他的在IE4+中受支持)，因为滚动值相当混乱，在很多情况下并不能真正实现您想要的功能。局部值将背景固定在设置的元素上，因此当您滚动元素时，背景也随之滚动。 CSS 的值与单位 数字，长度和百分比 数值类型 描述 integer 整数 number 表示一个小数——它可能有小数点后面的部分，也可能没有 dimension 有一个附加的单位，例如45deg、5s或10px。是一个伞形类别，包括、、和类型。 percentage 表示一些其他值的一部分，例如50%。百分比值总是相对于另一个量，例如，一个元素的长度相对于其父元素的长度。 绝对长度 单位 名称 cm 厘米 mm 毫米 Q 四分之一毫米 in 英寸 pc 十二点活字 pt 点 px 像素 相对长度与单位 单位 相对于 em 在 font-size 中使用是相对于父元素的字体大小，在其他属性中使用是相对于自身的字体大小，如 width ex 字符“x”的高度 ch 数字“0”的宽度 rem 根元素的字体大小 lh 元素的line-height vw 视窗宽度的1% vh 视窗高度的1% vmin 视窗较小尺寸的1% vmax 视图大尺寸的1% 三、样式化 文本字体样式作用于字体的属性，会直接应用到文本中，比如使用哪种字体，字体的大小是怎样的，字体是粗体还是斜体，等等。 颜色: color 属性设置选中元素的前景内容的颜色 123p&#123; color &#x3D; red;&#125; 字体种类: font-family 属性, 允许为浏览器指定一个字体 (或者一个字体的列表)，然后浏览器可以将这种字体应用到选中的元素上。浏览器只会把在当前机器上可用的字体应用到当前正在访问的网站上；如果字体不可用，那么就会用浏览器默认的字体代替 default font. 123p&#123;font-family: arial;&#125; 网络安全字体： 可以应用到所有系统 (Arial, Courier New, Georgia, Times New Roman, Trebuchet MS, Verdana) 默认字体: serif, sans-serif, monospace, cursive,和 fantasy。 serif sans-serif monospace cursive fantasy 有衬线的字体 （衬线一词是指字体笔画尾端的小装饰，存在于某些印刷体字体中） 没有衬线的字体 每个字符具有相同宽度的字体，通常用于代码列表 用于模拟笔迹的字体，具有流动的连接笔画 用来装饰的字体 字体栈: 包含一个font-family属性，其值由几个用逗号分离的字体名称组成，便于浏览器多种选择 123p&#123; font-family: &quot;Trebuchet MS&quot;, Verdana, sans-serif;&#125; 字体大小: font-size 属性设置，可以取大多数单位，常用单位为: px, em, rem 使用 em / rem 时以 父元素/根元素的大小为基础大小 px(像素) em rem 绝对单位,任何情况下，页面上的文本所计算出来的像素值都是一样的 1em 等于我们设计的当前元素的父元素上设置的字体大小 ,em可以调整任何东西的大小，不只是文本 1rem 等于 HTML 中的根元素的字体大小 ，而不是父元素，更容易计算字体大小 字体样式，字体粗细，文本转换和文本装饰 font-style: 用来打开和关闭文本 italic (斜体)。 可能的值如下： normal: 将文本设置为普通字体 (将存在的斜体关闭) italic: 如果当前字体的斜体版本可用，那么文本设置为斜体版本；如果不可用，那么会利用 oblique 状态来模拟 italics。 oblique: 将文本设置为斜体字体的模拟版本，也就是将普通文本倾斜的样式应用到文本中。 font-weight: 设置文字的粗体大小。这里有很多值可选 (比如 -light, -normal, -bold, -extrabold, -black, 等等), 不过事实上你很少会用到 normal 和 bold以外的值： normal, bold: 普通, 加粗字体 lighter, bolder: 将当前元素的粗体设置为比其父元素粗体更细或更粗一步。100–900: 数值粗体值，如果需要，可提供比上述关键字更精细的粒度控制。 text-transform: 允许你设置要转换的字体。值包括： none: 防止任何转型。 uppercase: 将所有文本转为大写。 lowercase: 将所有文本转为小写。 capitalize: 转换所有单词让其首字母大写。 full-width: 将所有字形转换成全角，即固定宽度的正方形，类似于等宽字体，允许拉丁字符和亚洲语言字形（如中文，日文，韩文）对齐。 text-decoration: 设置/取消字体上的文本装饰 (你将主要使用此方法在设置链接时取消设置链接上的默认下划线, 可以接受多个值，同时为一段文本设置上、下、中划线) 可用值为： none: 取消已经存在的任何文本装饰。 underline: 文本下划线. overlinre: 文本上划线 line-through: 穿过文本的线 文字阴影: text-shadow 属性。这最多需要 4 个值 (正偏移 1px向右移动，负偏移 -1px向左移动) : 阴影与原始文本的水平偏移，可以使用大多数的 CSS 单位 length and size units, 但是 px 是比较合适的。这个值必须指定。 阴影与原始文本的垂直偏移;效果基本上就像水平偏移，除了它向上/向下移动阴影，而不是左/右。这个值必须指定。 模糊半径 - 更高的值意味着阴影分散得更广泛。如果不包含此值，则默认为0，这意味着没有模糊。可以使用大多数的 CSS 单位 length and size units. 阴影的基础颜色，可以使用大多数的 CSS 颜色单位 CSS color unit. 如果没有指定，默认为 black.123p&#123; text-shadow: 4px 4px 5px red;&#125; 多种阴影 包含以逗号分隔的多个阴影值，将多个阴影应用于同一文本 1234text-shadow: -1px -1px 1px #aaa, 0px 4px 1px rgba(0,0,0,0.5), 4px 4px 5px rgba(0,0,0,0.7), 0px 0px 7px rgba(0,0,0,0.4); 文本布局作用于文本的间距以及其他布局功能的属性，比如，允许操纵行与字之间的空间，以及在内容框中，文本如何对齐。 文本对齐: text-align 属性用来控制文本如何和它所在的内容盒子对齐。可用值如下: left: 左对齐文本。 right: 右对齐文本。 center: 居中文字 justify: 使文本展开，改变单词之间的差距，使所有文本行的宽度相同。你需要仔细使用，它可以看起来很可怕。特别是当应用于其中有很多长单词的段落时。如果你要使用这个，你也应该考虑一起使用别的东西，比如 hyphens，打破一些更长的词语。 行高: line-height 属性设置文本每行之间的高，可以接受大多数单位，不过也可以设置一个无单位的值，作为乘数，通常这种是比较好的做法。无单位的值乘以 font-size 来获得 line-height。当行与行之间拉开空间，正文文本通常看起来更好更容易阅读。推荐的行高大约是 1.5–2 (双倍间距。) 所以要把我们的文本行高设置为字体高度的1.5倍，你可以使用这个: 1line-height: 1.5; 字母和单词间距: letter-spacing 和 word-spacing 属性允许你设置你的文本中的字母与字母之间的间距、或是单词与单词之间的间距。你不会经常使用它们，但是可能可以通过它们，来获得一个特定的外观，或者让较为密集的文字更加可读。它们可以接受大多数单位 12345把这个样式应用到 &lt;p&gt; 段落的第一行：p::first-line &#123; letter-spacing: 2px; word-spacing: 4px;&#125; 其他可能用到的属性 Font 样式: font-variant: 在小型大写字母和普通文本选项之间切换。 font-kerning: 开启或关闭字体间距选项。 font-feature-settings: 开启或关闭不同的 OpenType 字体特性。 font-variant-alternates: 控制给定的自定义字体的替代字形的使用。 font-variant-caps: 控制大写字母替代字形的使用。 font-variant-east-asian: 控制东亚文字替代字形的使用, 像日语和汉语。 font-variant-ligatures: 控制文本中使用的连写和上下文形式。 font-variant-numeric: 控制数字，分式和序标的替代字形的使用。 font-variant-position: 控制位于上标或下标处，字号更小的替代字形的使用。 font-size-adjust: 独立于字体的实际大小尺寸，调整其可视大小尺寸。 font-stretch: 在给定字体的可选拉伸版本中切换。 text-underline-position: 指定下划线的排版位置，通过使用 text-decoration-line 属性的underline 值。 text-rendering: 尝试执行一些文本渲染优化。 文本布局样式： text-indent: 指定文本内容的第一行前面应该留出多少的水平空间。 text-overflow: 定义如何向用户表示存在被隐藏的溢出内容。 white-space: 定义如何处理元素内部的空白和换行。 word-break: 指定是否能在单词内部换行。 direction: 定义文本的方向 (这取决于语言，并且通常最好让HTML来处理这部分，因为它是和文本内容相关联的。) hyphens: 为支持的语言开启或关闭连字符。 line-break: 对东亚语言采用更强或更弱的换行规则。 text-align-last: 定义一个块或行的最后一行，恰好位于一个强制换行前时，如何对齐。 text-orientation: 定义行内文本的方向。 word-wrap: 指定浏览器是否可以在单词内换行以避免超出范围。 writing-mode: 定义文本行布局为水平还是垂直，以及后继文本流的方向。样式列表列表特定样式三个属性可以在 &lt;ul&gt; 或 &lt;ol&gt; 元素上设置： list-style-type ：设置用于列表的项目符号的类型，例如无序列表的方形或圆形项目符号，或有序列表的数字，字母或罗马数字。 list-style-position ：设置在每个项目开始之前，项目符号是出现在列表项内，还是出现在其外。 list-style-image ：允许您为项目符号使用自定义图片，而不是简单的方形或圆形。 符号样式 list-style-type 属性允许设置列表元素的 marker（比如圆点、符号、或者自定义计数器样式） disc 实心圆点 (默认值) circle 空心圆点 square 实心方块 decimal 十进制阿拉伯数字,从1开始 cjk-decimal 中日韩十进制数, 例如: 一, 二, 三, ..., 九八, 九九, 一〇〇 decimal-leading-zero, E.g. 01, 02, 03, … 98, 99 lower-roman, E.g. i, ii, iii, iv, v… upper-roman, E.g. I, II, III, IV, V… lower-greek, E.g. α, β, γ… lower-alpha, E.g. a, b, c, … z upper-alpha, E.g. A, B, C, … Z 项目符号位置 list-style-position 设置在每个项目开始之前，项目符号是出现在列表项内，还是出现在其外。默认值为 outside，这使项目符号位于列表项之外。如果值设置为 inside，项目条目则位于行内。 使用自定义的项目符号图片 list-style-image 属性允许对于项目符号使用自定义图片,在控制项目符号的位置，大小等方面是有限的,可以对无序排列更改 1234567ul li &#123; padding-left: 2rem; background-image: url(star.svg); background-position: 0 0; background-size: 1.6rem 1.6rem; background-repeat: no-repeat; &#125; 管理列表计数在有序列表上进行不同的计数方式。例如： 从1以外的数字开始，或向后倒数，或者按步或多于1计数。 start start 属性允许你从1 以外的数字开始计数。 12345&lt;ol start&#x3D;&quot;4&quot;&gt; &lt;li&gt;&lt;&#x2F;li&gt; &lt;li&gt;&lt;&#x2F;li&gt; &lt;li&gt;&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt; reversed reversed 属性将启动列表倒计数 12345&lt;ol start&#x3D;&quot;4&quot; reversed&gt; &lt;li&gt;&lt;&#x2F;li&gt; &lt;li&gt;&lt;&#x2F;li&gt; &lt;li&gt;&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt; value value 属性允许设置列表项指定数值 12345&lt;ol start&#x3D;&quot;4&quot; reversed&gt; &lt;li value&#x3D;2&gt;&lt;&#x2F;li&gt; &lt;li value&#x3D;4&gt;&lt;&#x2F;li&gt; &lt;li value&#x3D;6&gt;&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt; 样式化链接 链接状态 链接存在时处于不同的状态，每一个状态都可以用对应的 伪类 来应用样式: Link (没有访问过的): 这是链接的默认状态，当它没有处在其他状态的时候，它可以使用:link 伪类来应用样式。 Visited: 这个链接已经被访问过了(存在于浏览器的历史纪录), 它可以使用 :visited 伪类来应用样式。 Hover: 当用户的鼠标光标刚好停留在这个链接，它可以使用 :hover 伪类来应用样式。 Focus: 一个链接当它被选中的时候 (比如通过键盘的 Tab 移动到这个链接的时候，或者使用编程的方法来选中这个链接 HTMLElement.focus()) 它可以使用 :focus 伪类来应用样式。 Active: 一个链接当它被激活的时候 (比如被点击的时候)，它可以使用 :active 伪类来应用样式。 默认样式 链接具有下划线。 未访问过的 (Unvisited) 的链接是蓝色的。 ``访问过的 (Visited) 的链接是紫色的.` 悬停 (Hover) 在一个链接的时候鼠标的光标会变成一个小手的图标。` 选中 (Focus) 链接的时候，链接周围会有一个轮廓，你应该可以按 tab 来选中这个页面的链接 (在 Mac 上, 你可能需要使用Full Keyboard Access: All controls 选项，然后再按下 Ctrl + F7 ，这样就可以起作用) 激活 (Active) 链接的时候会变成红色 (当你点击链接时，请尝试按住鼠标按钮。) 将样式应用到一些链接 (必需按顺序) 123456789101112131415161718a &#123;&#125;a:link &#123;&#125;a:visited &#123;&#125;a:focus &#123;&#125;a:hover &#123;&#125;a:active &#123;&#125; 在链接中包含图标 (属性选择器——a[href*=&quot;http&quot;] 选中 &lt;a&gt; 元素，但是这样只会选中那些拥有 href 属性，且属性的值包含 &quot;http&quot; 的 &lt;a&gt;的元素。指定位置为100%，使其出现在内容的右边，距离上方是0px, padding-right ，为背景图片留出空间，这样就不会和文本重叠。) 12345a[href*&#x3D;&quot;http&quot;] &#123; background: url(&#39;https:&#x2F;&#x2F;mdn.mozillademos.org&#x2F;files&#x2F;12982&#x2F;external-link-52.png&#39;) no-repeat 100% 0; background-size: 16px 16px; padding-right: 19px;&#125; 样式化链接为按钮 具体请看","categories":[],"tags":[{"name":"前端学习","slug":"前端学习","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"}]},{"title":"python_常用模块","slug":"python_常用模块","date":"2020-07-26T12:12:54.000Z","updated":"2020-08-03T01:53:31.997Z","comments":true,"path":"2020/07/26/python-chang-yong-mo-kuai/","link":"","permalink":"http://yoursite.com/2020/07/26/python-chang-yong-mo-kuai/","excerpt":"","text":"模块制作1. **&quot;&quot;&quot; &quot;&quot;&quot; / #** : `顶格写的注释被称为文档 (__doc__)，在模块中的注释与帮助，可以通过 help(model_name) 查看` 2. **import model_name / from model_name import function_name**常用模块1. **random 随机模块** 1. `random.random 随机生成 0~1 间小数` 2. `random.randint 随机生成指定范围的整数，包含上下限` 3. `random.randrange 随机生成指定 range 范围的整数，不包含上限 randrange(self, start, stop=None, step=1, _int=int)` 4. `random.choice 随机获取指定序列的一个元素` 5. `random.sample 随机获取指定序列的指定个元素 sample(self, population, k) (k:获取元素数目，population:指定序列(列表))` 6. `random.shuffle 随机打乱序列(列表)数据` 2. **pip 内置包管理工具** 1. `pip install package (-i 国内源地址 换源)` 2. `pip uninstall package` 3. `pip list 展示` 4. `pip update 更新` 5. `windows 安装不上部分包` 1. `安装 wheel 包 (先支持安装 .whl 包)` 2. `pip install package.whl` 6. `linux 压缩包安装` 1. `解压` 2. `找到 setup.py` 3. `python setup.py install 安装包` 3. **os 路径** 1. `os.system(&quot;cmd命令&quot;) 调用 cmd 并执行命令` 2. `os.chdir 修改 python 工作路径 os.chdir(&quot;D:\\\\&quot;)` 3. `os.mkdir 创建文件夹，在当前路径下` 4. `os.path` 1. `os.path.isdir 是否是文件夹` 2. `os.path.getsize 获取文件/夹大小` 3. `os.path.join(&apos;a&apos;, &apos;b&apos;) 自动拼接成路径 ==&gt; &apos;a\\\\b&apos;` 4. `os.path.dirname 返回文件目录，可以嵌套一直向上返回目录` 12&gt;&gt;&gt; os.path.dirname(os.path.dirname(os.path.abspath(&#39;board&#39;))) &#39;E:\\\\python_study\\\\Django&#39; 5. `os.path.abspath 绝对路径` 4. **sys 系统** 1. `sys.argv 接收调用python脚本时传递的参数，以列表格式，第一个参数是文件本身相对路径` 2. `sys.exit() 涉及到时间以及内存分配方面释放` 5. **file** : `open(file, mode=&apos;r&apos;, buffering=None, encoding=None, errors=None, newline=None, closefd=True) 读取文件` 6. **WordCloud 词云模块** 1pip install wordcloud 1. `常用参数` + `width 词云图片宽度，默认400像素` + `height 词云图片高度 默认200像素` + `background_color 词云图片的背景颜色，默认为黑色` + `font_step 字号增大的步进间隔 默认1号` + `font_path 指定字体路径 默认None，对于中文可用font_path=&apos;msyh.ttc&apos;` + `mini_font_size 最小字号 默认4号` + `max_font_size 最大字号 根据高度自动调节` + `max_words 最大词数 默认200` + `stop_words 不显示的单词 stop_words={&quot;python&quot;,&quot;java&quot;}` + `Scale 默认值1。值越大，图像密度越大越清晰` + `prefer_horizontal：默认值0.90，浮点数类型。表示在水平如果不合适，就旋转为垂直方向，水平放置的词数占0.9？` + `relative_scaling：默认值0.5，浮点型。设定按词频倒序排列，上一个词相对下一位词的大小倍数。有如下取值：“0”表示大小标准只参考频率排名，“1”如果词频是2倍，大小也是2倍` + `mask 指定词云形状图片，默认为矩形` `通过以下代码读入外部词云形状图片（需要先pip install imageio安装imageio）` 1234import imageiofrom wordcloud import WordCloudmk = imageio.imread(\"picture.png\")w = WordCloud(mask=mk) 7. **jieba 中文分词** 1pip install jieba 1. `方法` + `jieba.cut: 返回的结构是一个可迭代的 generator，可以使用 for 循环来获得分词后得到的每一个词语(unicode)` + `cut(self, sentence, cut_all=False, HMM=True, use_paddle=False)` + `参数` 1. `需要分词的字符串` 2. `cut_all 参数: 用来控制是否采用全模式` 3. `HMM 参数: 用来控制是否使用 HMM 模型` 4. `use_paddle 参数: 用来控制是否使用paddle模式下的分词模式，paddle模式采用延迟加载方式，通过enable_paddle接口安装paddlepaddle-tiny，并且import相关代码` + `jieba.cut_for_search: 返回的结构是一个可迭代的 generator，可以使用 for 循环来获得分词后得到的每一个词语(unicode)` + `cut_for_search(self, sentence, HMM=True)` + `参数` 1. `需要分词的字符串` 2. `是否使用 HMM 模型。该方法适合用于搜索引擎构建倒排索引的分词，粒度比较细` + `jieba.lcut: 返回list` 12def lcut(self, *args, **kwargs): return list(self.cut(*args, **kwargs)) + `jieba.lcut_for_search: 返回 list` 12def lcut_for_search(self, *args, **kwargs): return list(self.cut_for_search(*args, **kwargs)) 8. **turtle 绘图** `turtle: 绘图包` `fillcolor：填充颜色` `begin_fill/end_fill 开始/结束填充` 1. 设置画布大小 1234turtle.screensize(canvwidth&#x3D;None,canvheight&#x3D;None,bg&#x3D;None)， 参数分别为画布的宽(单位像素),高,背景颜色。如： turtle.screensize(800,600,&quot;green&quot;) turtle.screensize()#返回默认大小(400,300) 2. 画笔(画笔的属性，颜色、画线的宽度等) + 参数 + `turtle.pensize(): 设置画笔的宽度；` + `turtle.pencolor(): 没有参数传入，返回当前画笔颜色，传入参数设置画笔颜色，可以是字符串如&quot;green&quot;,&quot;red&quot;,也可以是RGB3元组。` + `turtle.speed(speed): 设置画笔移动速度，画笔绘制的速度范围[0,10]整数，数字越大越快。` + `turtle.forward(distance): 向当前画笔方向移动distance像素长度` + `turtle.backward(distance): 向当前画笔相反方向移动distance像素长`度 + `turtle.right(degree): 顺时针移动degree°` + `turtle.left(degree): 逆时针移动degree°` + `turtle.pendown(): 移动时绘制图形，缺省时也为绘制` + `turtle.goto(x,y): 将画笔移动到坐标为x,y的位置` + `turtle.penup(): 提起笔移动，不绘制图形，用于另起一个地方绘制` + `turtle.circle(): 画圆，半径为正(负)，表示圆心在画笔的左边(右边)画圆` + `setx( ): 将当前x轴移动到指定位置` + `sety( ): 将当前y轴移动到指定位置` + `setheading(angle): 设置当前朝向为angle角度` + `home(): 设置当前画笔位置为原点，朝向东。` + `dot(r): 绘制一个指定直径和颜色的圆点` + 画笔控制命令 + `turtle.fillcolor(colorstring): 绘制图形的填充颜色` + `turtle.color(color1, color2): 同时设置pencolor=color1, fillcolor=color2` + `turtle.filling(): 返回当前是否在填充状态` + `turtle.begin_fill(): 准备开始填充图形` + `turtle.end_fill(): 填充完成` + `turtle.hideturtle(): 隐藏画笔的turtle形状` + `turtle.showturtle(): 显示画笔的turtle形状` + 全局控制命令 + `turtle.clear(): 清空turtle窗口，但是turtle的位置和状态不会改变` + `turtle.reset(): 清空窗口，重置turtle状态为起始状态` + `turtle.undo(): 撤销上一个turtle动作` + `turtle.isvisible(): 返回当前turtle是否可见` + `stamp(): 复制当前图形` + `turtle.write(s [,font=(&quot;font-name&quot;,font_size,&quot;font_type&quot;)]): 写文本，s为文本内容，font是字体的参数，分别为字体名称，大小和类型；font为可选项，font参数也是可选项` + `turtle.delay(delay=None): 设置或返回以毫秒为单位的绘图延迟` 9. **MyQR 二维码生成器** 12345678910111213from MyQR import myqrimport osmyqr.run( word &#x3D; &#39;&#39;, # 可以是字符串也可以是网址 (网址前加 http(s):&#x2F;&#x2F;) version &#x3D; 1, # 容错率等级 1 为最高 level &#x3D; &#39;H&#39;, # 控制纠错水平，范围是 L, M, Q, H，从左向右依次增高 picture &#x3D; &#39;&#39;, # 二维码和图片合成，二维码路径 colorized &#x3D; &#39;True&#39;, # 是否为彩色二维码 contrast &#x3D; 1.0, # 调节图片对比度, 1.0 表示原始图片，更小的值表示更低对比度，更大反之，1.0 为默认 brightness &#x3D; 1.0, # 调节图片亮度，越大越亮，越小越暗 save_name &#x3D; &#39;&#39;, # 生成二维码图片名称，可以是 jpg, png, bmp, gif save_dir &#x3D; os.getcwd() # 控制生成位置 ) 10. **JSON** 1. ##### json.dumps() `将 Python 对象编码成 JSON 字符串` 2. ##### json.loads() `将已编码的 JSON 字符串解码为 Python 对象` eg: 1. `将 python 数据结构转换为 JSON` 1234567import jsondata &#x3D; &#123; &quot;name&quot;: &#39;ACME&#39;, &quot;shares&quot;: 100, &quot;price&quot;: 524.24&#125;json_str &#x3D; json.dumps(data) 2. `将一个 JSON 编码字符串转换回一个 Python 数据结构` 1data &#x3D; json.loads(json_str) 3. `编码解码 JSON 数据` 123456# 写入一个 json 数据with open(&quot;data.json&quot;, &#39;w&#39;) as f: json.dump(data, f)with open(&#39;data.json&#39;, &#39;r&#39;) as f: data &#x3D; json.load(f) 11. **Requests** 1import requests 1. 请求 1. 请求方式 + **GET** ``requests.get(url)`` + 传递 URL 参数 123payload &#x3D; &#123;&#39;key1&#39;: &#39;value1&#39;, &#39;key2&#39;: [&#39;value2&#39;, &#39;value3&#39;]&#125;r &#x3D; requests.get(&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;get&quot;, params&#x3D;payload)# http:&#x2F;&#x2F;httpbin.org&#x2F;get?key1&#x3D;value1&amp;key2&#x3D;value2&amp;key2&#x3D;value3 + **POST** ``r = requests.post(url, data={&quot;key&quot;: &quot;value&quot;}`` + 传递 data 参数 1234567891011payload &#x3D; &#123;&#39;key1&#39;: &#39;value1&#39;, &#39;key2&#39;: &#39;value2&#39;&#125;r &#x3D; requests.post(&quot;http:&#x2F;&#x2F;httpbin.org&#x2F;post&quot;, data&#x3D;payload)print(r.text)&#123; ... &quot;form&quot;: &#123; &quot;key2&quot;: &quot;value2&quot;, &quot;key1&quot;: &quot;value1&quot; &#125;, ...&#125; + **PUT** ``r = requests.put(url, data={&quot;key&quot;: &quot;value&quot;})`` + **DELETE** ``r = requests.delete(url)`` + **HEAD** ``r = requests.head(url)`` + **OPTIONS** ``r = requests.options(url)`` 2. 请求头 + fake_useragent 模块随机产生请求头 1234 from fake_useragent import UserAgent headers = &#123;\"User-Agent\": str(UserAgent().random)&#125; ``` + 传递浏览器参数 headers = {&apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36&apos;} 123456783. Cookie + 响应中的 Cookie &#96;&#96;&#96;python import requests r &#x3D; requests.get(&#39;https:&#x2F;&#x2F;requests.readthedocs.io&#x2F;zh_CN&#x2F;latest&#x2F;user&#x2F;quickstart.html&#39;) print(r.cookies) # &lt;RequestsCookieJar[Cookie(version&#x3D;0, name&#x3D;&#39;__cfduid&#39;, value&#x3D;&#39;d22fadb1898ae38e2bc7f811090da41db1595923633&#39;, # port&#x3D;None, port_specified&#x3D;False, domain&#x3D;&#39;.readthedocs.io&#39;, domain_specified&#x3D;True, domain_initial_dot&#x3D;True, path&#x3D;&#39;&#x2F;&#39;, path_specified&#x3D;True, secure&#x3D;False, expires&#x3D;1598515633, discard&#x3D;False, comment&#x3D;None, comment_url&#x3D;None, rest&#x3D;&#123;&#39;HttpOnly&#39;: None, &#39;SameSite&#39;: &#39;Lax&#39;&#125;, rfc2109&#x3D;False)]&gt; + 发送 Cookies 123import requestsurl = 'https://requests.readthedocs.io/zh_CN/latest/user/quickstart.html'cookies = dict(Cookie=\"(version=0, name='__cfduid', value='d22fadb1898ae38e2bc7f811090da41db1595923633', port=None, port_specified=False, domain='.readthedocs.io', domain_specified=True, domain_initial_dot=True, path='/', path_specified=True, secure=False, expires=1598515633, discard=False, comment=None, comment_url=None, rest=&#123;'HttpOnly': None, 'SameSite': 'Lax'&#125;)\") 2. 响应 + `响应状态码 r.status_code` + `响应头 r.headers` 1. 二进制响应内容 r.content (对于非文本请求) Requests 会自动为你解码 gzip 和 deflate 传输编码的响应数据。 123456# 以请求返回的二进制数据创建一张图片import requestsfrom PIL import Imagefrom io import BytesIOr = requests.get(url='')i = Image.open(BytesIO(r.content)) 2. JSON 响应内容 r.json 123456789101112 import requests r = requests.get(url='') r.json() ``` 3. 原始响应内容(原始套接字响应) r.raw ```python import requests r = requests.get(url='', stream=True) print(r.raw) # &lt;requests.packages.urllib3.response.HTTPResponse object at 0x101194810&gt; print(r.raw.read(10)) # '\\x1f\\x8b\\x08\\x00\\x00\\x00\\x00\\x00\\x00\\x03'","categories":[],"tags":[{"name":"Python 模块","slug":"Python-模块","permalink":"http://yoursite.com/tags/Python-%E6%A8%A1%E5%9D%97/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-07-26T11:07:53.209Z","updated":"2020-07-26T11:07:53.210Z","comments":true,"path":"2020/07/26/hello-world/","link":"","permalink":"http://yoursite.com/2020/07/26/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"Flask_Study","slug":"Flask-Study","permalink":"http://yoursite.com/tags/Flask-Study/"},{"name":"Windows problem","slug":"Windows-problem","permalink":"http://yoursite.com/tags/Windows-problem/"},{"name":"Pyecharts","slug":"Pyecharts","permalink":"http://yoursite.com/tags/Pyecharts/"},{"name":"scrapy_study","slug":"scrapy-study","permalink":"http://yoursite.com/tags/scrapy-study/"},{"name":"Linux_study","slug":"Linux-study","permalink":"http://yoursite.com/tags/Linux-study/"},{"name":"前端学习","slug":"前端学习","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"},{"name":"Python 模块","slug":"Python-模块","permalink":"http://yoursite.com/tags/Python-%E6%A8%A1%E5%9D%97/"}]}